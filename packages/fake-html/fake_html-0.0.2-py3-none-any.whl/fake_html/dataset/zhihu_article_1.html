<html lang="zh" data-hairline="true" class="itcauecng" data-theme="light" data-rh="data-theme"><head><meta charset="utf-8"><title>设计杂谈(0x01)——配置文件的起源与矛盾 - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=10,chrome=1"><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"><meta data-rh="true" name="keywords" content="软件工程,机器学习,计算机科学"><meta data-rh="true" name="description" content="在“设计杂谈”系列，主要会讲述设计相关的问题与思考。本文将主要针对配置的起源与实际面对的问题进行必要的讲述，以求为读者建立一个初步的概念。 话不多说，开始。 由静态到动态首先，我们来看这样一个需求： …"><meta data-rh="true" property="og:title" content="设计杂谈(0x01)——配置文件的起源与矛盾"><meta data-rh="true" property="og:url" content="https://zhuanlan.zhihu.com/p/501495148"><meta data-rh="true" property="og:description" content="在“设计杂谈”系列，主要会讲述设计相关的问题与思考。本文将主要针对配置的起源与实际面对的问题进行必要的讲述，以求为读者建立一个初步的概念。 话不多说，开始。 由静态到动态首先，我们来看这样一个需求： …"><meta data-rh="true" property="og:image" content="https://picx.zhimg.com/v2-1cf5c5c8963fda476804a914abfd0c34_720w.jpg?source=172ae18b"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="og:site_name" content="知乎专栏"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.81060cab.png"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.81060cab.png" sizes="152x152"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-120.d5793cac.png" sizes="120x120"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-76.7abf3393.png" sizes="76x76"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-60.362a8eac.png" sizes="60x60"><link crossorigin="" rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/heifetz/favicon.ico"><link crossorigin="" rel="search" type="application/opensearchdescription+xml" href="https://static.zhihu.com/heifetz/search.xml" title="知乎"><link rel="dns-prefetch" href="//static.zhimg.com"><link rel="dns-prefetch" href="//pica.zhimg.com"><link rel="dns-prefetch" href="//pic1.zhimg.com"><link rel="dns-prefetch" href="//pic2.zhimg.com"><link rel="dns-prefetch" href="//pic3.zhimg.com"><link rel="dns-prefetch" href="//pic4.zhimg.com"><link rel="dns-prefetch" href="//static.zhihu.com"><script nonce="" data-web-reporter-config="{&quot;platform&quot;:&quot;web&quot;,&quot;project&quot;:&quot;heifetz&quot;}">!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).webReporter={})}(this,function(e){"use strict";var t={},n=!1,o=function(){var e,o,r,a,i;return n||(e=document.querySelector("script[data-web-reporter-config]"),o=e&&e.dataset.webReporterConfig||"{}",r=JSON.parse(o),a=r.platform,i=r.project,t={platform:a,project:i},n=!0),t};function r(e){return a(function(){return localStorage.getItem(e)})()}function a(e){return function(){try{return e.apply(void 0,arguments)}catch(e){}}}var i=a(function(e,t){var n={platform:"web",project:o().project,clientTimestamp:+new Date};!function(e,t,n){"1"===r("weber:logenabled")&&console.log("[web-reporter]%o",{type:e,base:t,data:n})}(e,n,t),function(e,t){var n=btoa(JSON.stringify(t));if("undefined"!=typeof Blob&&window.navigator&&window.navigator.sendBeacon){var o=new Blob([n],{type:"text/plain"});navigator.sendBeacon(e,o)}else{var r=new XMLHttpRequest;r.open("POST",e),r.withCredentials=!1,r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.send(n)}}(r("weber:api")||"https://apm.zhihu.com/collector/web_json",{type:e,base:n,data:t})});e.report=i,Object.defineProperty(e,"__esModule",{value:!0})});
</script><link href="https://static.zhihu.com/heifetz/1158.216a26f4.d757cd7c140e5750c9a5.css" crossorigin="" rel="stylesheet"><link href="https://static.zhihu.com/heifetz/column.216a26f4.9794927dc417e903b5e3.css" crossorigin="" rel="stylesheet"><link rel="stylesheet" type="text/css" href="https://static.zhihu.com/heifetz/GoodsRecommendGoodsCardList.216a26f4.d95ce79191cdf8d7ac28.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="https://static.zhihu.com/heifetz/3757.216a26f4.bf8d6607cd19b4dd1bab.css" crossorigin="anonymous"><script nonce="">!function(){"use strict";!function(e,n){var r=[];function t(e){return function(){r.push([e,arguments])}}n.Raven={captureException:t("captureException"),captureMessage:t("captureMessage"),captureBreadcrumb:t("captureBreadcrumb")};var a,o,c,i,s,u="undefined"!=typeof DOMError;function d(e){var n=e instanceof Error||e instanceof ErrorEvent||u&&e instanceof DOMError||e instanceof DOMException;Raven.captureException(n?e:new Error(e.message||e.reason))}n.addEventListener("unhandledrejection",d),n.addEventListener("error",d,!0),a=e.src,o=e,c=function(){r.forEach(function(e){var n;(n=Raven)[e[0]].apply(n,e[1])}),n.removeEventListener("unhandledrejection",d),n.removeEventListener("error",d,!0)},i=document.head||document.getElementsByTagName("head")[0],(s=document.createElement("script")).crossOrigin=o.crossOrigin,s.dataset.sentryConfig=o["data-sentry-config"],s.onload=c,s.src=a,i.appendChild(s)}({"defer":true,"crossOrigin":"anonymous","src":"https://unpkg.zhimg.com/@cfe/sentry-script@1.3.1/dist/init.js","data-sentry-config":"{\"dsn\":\"https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224\",\"sampleRate\":0.1,\"release\":\"574-45e06cad\",\"ignoreErrorNames\":[\"NetworkError\",\"SecurityError\"],\"ignoreErrorsPreset\":\"ReactApp\",\"tags\":{\"app_name\":\"heifetz\"}}"},window)}();
</script><script crossorigin="anonymous" data-sentry-config="{&quot;dsn&quot;:&quot;https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224&quot;,&quot;sampleRate&quot;:0.1,&quot;release&quot;:&quot;574-45e06cad&quot;,&quot;ignoreErrorNames&quot;:[&quot;NetworkError&quot;,&quot;SecurityError&quot;],&quot;ignoreErrorsPreset&quot;:&quot;ReactApp&quot;,&quot;tags&quot;:{&quot;app_name&quot;:&quot;heifetz&quot;}}" src="https://unpkg.zhimg.com/@cfe/sentry-script@1.3.1/dist/init.js"></script><style data-emotion-css="uzm3ri">.css-uzm3ri{position:fixed;top:0;right:0;left:0;z-index:101;display:none;height:2px;pointer-events:none;background:#056DE8;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}</style><style data-emotion-css="15ro776">.css-15ro776{margin-right:4px;}</style><style data-emotion-css="183aq3r">.css-183aq3r{border-radius:24px;padding:0 15px;font-size:13px;line-height:28px;-webkit-flex:none;-ms-flex:none;flex:none;}</style><style data-emotion-css="1ie3c6f">.css-1ie3c6f{fill:#999999;margin:0 10px;}</style><style data-emotion-css="78p1r9">.css-78p1r9{box-sizing:border-box;margin:0;min-width:0;margin-left:auto;margin-right:auto;max-width:690px;margin-top:0;}@media screen and (min-width:40em){.css-78p1r9{margin-top:1em;}}</style><style data-emotion-css="m9mk0j">.css-m9mk0j{position:relative;padding-bottom:56.25%;height:0;border-radius:inherit;}</style><style data-emotion-css="vn9cxj">.css-vn9cxj{box-sizing:border-box;margin:0;min-width:0;position:relative;padding-bottom:56.25%;height:0;border-radius:inherit;}</style><style data-emotion-css="1ld0bim">.css-1ld0bim{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;}</style><style data-emotion-css="1ujtx97">.css-1ujtx97{object-fit:cover;background-color:#F6F6F6;}</style><style data-emotion-css="uodor8">.css-uodor8{border-radius:50%;}</style><style data-emotion-css="kl6aur">.css-kl6aur{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;background-color:#FFFFFF;width:34px;height:34px;border-radius:50%;}</style><style data-emotion-css="1cd9gw4">.css-1cd9gw4{margin-left:.3em;}</style><style data-emotion-css="2dtzk2">.css-2dtzk2{cursor:pointer;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:.3em;}</style><style data-emotion-css="1m3x3v9">.css-1m3x3v9{width:1em;height:1em;}</style><style data-emotion-css="1yuhvjn">.css-1yuhvjn{margin-top:16px;}</style><style data-emotion-css="376mun">.css-376mun{position:relative;display:inline;}</style><style data-emotion-css="1hhle02">.css-1hhle02 .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-1hhle02 .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-1hhle02 .FileLinkCard-info{margin-left:12px;}.css-1hhle02 .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1hhle02 .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-1hhle02 .FileLinkCard-source{white-space:pre;}.css-1hhle02 img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}</style><style data-emotion-css="1r0wf39">.css-1r0wf39 .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-1r0wf39 .LinkCard.new,.css-1r0wf39 .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1r0wf39 .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-1r0wf39 .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-1r0wf39 .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-1r0wf39 .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1r0wf39 .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1r0wf39 .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-1r0wf39 .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-1r0wf39 .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-1r0wf39 .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1r0wf39 .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-1r0wf39 .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1r0wf39 .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-1r0wf39 .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-1r0wf39 .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-1r0wf39 .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-1r0wf39 .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-1r0wf39 .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-1r0wf39 .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-1r0wf39 .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-1r0wf39 .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-1r0wf39 .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-1r0wf39 .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-1r0wf39 .LinkCard.new .LinkCard-richText .bold{font-weight:500;}.css-1r0wf39 .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-1r0wf39 .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-1r0wf39 .LinkCard.old,.css-1r0wf39 .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1r0wf39 .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-1r0wf39 .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-1r0wf39 .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-1r0wf39 .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1r0wf39 .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-1r0wf39 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-1r0wf39 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}</style><style data-emotion-css="3np2dk">.css-3np2dk .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-3np2dk .LinkCard.old,.css-3np2dk .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-3np2dk .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-3np2dk .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-3np2dk .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-3np2dk .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-3np2dk .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-3np2dk .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-3np2dk .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-3np2dk .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-3np2dk .LinkCard.new,.css-3np2dk .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-3np2dk .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-3np2dk .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-3np2dk .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-3np2dk .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-3np2dk .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-3np2dk .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-3np2dk .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-3np2dk .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-3np2dk .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-3np2dk .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-3np2dk .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-3np2dk .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-3np2dk .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-3np2dk .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-3np2dk .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-3np2dk .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-3np2dk .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-3np2dk .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-3np2dk .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-3np2dk .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-3np2dk .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-3np2dk .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-3np2dk .LinkCard.new .LinkCard-richText .bold{font-weight:500;}.css-3np2dk .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-3np2dk .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-3np2dk .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-3np2dk .FileLinkCard-info{margin-left:12px;}.css-3np2dk .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-3np2dk .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-3np2dk .FileLinkCard-source{white-space:pre;}.css-3np2dk img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}</style><style data-emotion-css="1t538q animation-1yvu044">.css-1t538q{word-break:break-word;line-height:1.6;}.css-1t538q > [data-first-child]{margin-top:0;}.css-1t538q > :last-child{margin-bottom:0;}.css-1t538q h1,.css-1t538q h2{clear:left;margin-top:calc((1.4em * 2) / 1.2);margin-bottom:calc(1.4em / 1.2);font-size:1.2em;line-height:1.5;font-weight:500;}.css-1t538q h3,.css-1t538q h4,.css-1t538q h5,.css-1t538q h6{clear:left;margin-top:calc((1.4em * 1.5) / 1.1);margin-bottom:calc(1.4em / 1.1);font-size:1.1em;line-height:1.5;font-weight:500;}.css-1t538q u{-webkit-text-decoration:none;text-decoration:none;border-bottom:1px solid #444444;}.css-1t538q b{font-weight:500;}.css-1t538q sup{font-size:0.8em;}.css-1t538q sup[data-draft-type='reference']{color:#175199;}.css-1t538q a:focus{outline:none;-webkit-transition:box-shadow 0.3s;transition:box-shadow 0.3s;}html[data-focus-visible] .css-1t538q a:focus{box-shadow:0 0 0 2px #FFFFFF,0 0 0 4px rgba(5,109,232,0.3);}.css-1t538q a.ztext-link,.css-1t538q a.internal,.css-1t538q a.external{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;border-bottom:1px solid #808080;}.css-1t538q a.ztext-link:hover,.css-1t538q a.internal:hover,.css-1t538q a.external:hover{color:#175199;border-bottom:1px solid #175199;}.css-1t538q a.ztext-link > .ellipsis::after,.css-1t538q a.internal > .ellipsis::after,.css-1t538q a.external > .ellipsis::after{content:'...';}.css-1t538q a.ztext-link > .invisible,.css-1t538q a.internal > .invisible,.css-1t538q a.external > .invisible{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;}.css-1t538q a.ztext-link u,.css-1t538q a.internal u,.css-1t538q a.external u{border:none;}.css-1t538q a.member_mention{color:#175199;}.css-1t538q a.member_mention:hover{border-bottom:1px solid #175199;}.css-1t538q a.UserLink-link{color:#175199;}.css-1t538q a.UserLink-link:hover{border-bottom:1px solid #175199;}.css-1t538q p{margin:1.4em 0;}.css-1t538q p.ztext-empty-paragraph{margin:calc((2.8em- (1.4em * 2 + 1.6em)) / 2) 0;}.css-1t538q p.ztext-empty-paragraph + .ztext-empty-paragraph{margin:1.4em 0;}.css-1t538q hr{margin:4em auto;width:240px;max-width:100%;border:none;border-top:1px solid #D3D3D3;}.css-1t538q img[eeimg]{max-width:100%;vertical-align:middle;}.css-1t538q img[eeimg="1"]{margin:0 3px;max-width:calc(100% - 6px);display:inline-block;}.css-1t538q img[eeimg="2"]{margin:1.4em auto;display:block;}.css-1t538q blockquote{margin:1.4em 0;padding-left:1em;color:#646464;border-left:3px solid #D3D3D3;}.css-1t538q ol,.css-1t538q ul{margin:1.4em 0;padding:0;width:100%;}.css-1t538q ol ol,.css-1t538q ul ol,.css-1t538q ol ul,.css-1t538q ul ul{margin:0;}.css-1t538q ol li::before,.css-1t538q ul li::before{width:1em;}.css-1t538q ol > ol,.css-1t538q ul > ol,.css-1t538q ol > ul,.css-1t538q ul > ul{display:table-row;}.css-1t538q ol > ol::before,.css-1t538q ul > ol::before,.css-1t538q ol > ul::before,.css-1t538q ul > ul::before{display:table-cell;content:'';}.css-1t538q ul{display:table;}.css-1t538q ul>li{display:table-row;list-style:none;}.css-1t538q ul>li::before{display:table-cell;content:'•  ';white-space:pre;}.css-1t538q ol{display:table;counter-reset:ol;}.css-1t538q ol > li{display:table-row;list-style:none;}.css-1t538q ol > li::before{display:table-cell;text-align:right;counter-increment:ol;content:counter(ol) '. ';white-space:pre;}.css-1t538q ol ol{counter-reset:ol2;}.css-1t538q ol ol li::before{counter-increment:ol2;content:counter(ol2) '. ';}.css-1t538q ol ol ol{counter-reset:ol3;}.css-1t538q ol ol ol li::before{counter-increment:ol3;content:counter(ol3) '. ';}.css-1t538q ol ol ol ol{counter-reset:ol4;}.css-1t538q ol ol ol ol li::before{counter-increment:ol4;content:counter(ol4) '. ';}.css-1t538q figure{margin:1.4em 0;}.css-1t538q figure .content_image,.css-1t538q figure .origin_image{margin:0 auto;}.css-1t538q figure figcaption{margin-top:calc(0.6em / 0.9);padding:0 1em;font-size:0.9em;line-height:1.5;text-align:center;color:#999999;}.css-1t538q figure + figure{margin-top:calc(1.4em * 1.6);}.css-1t538q figure[data-size='small'],.css-1t538q figure:not([data-size]) > [data-size='small']{clear:both;}.css-1t538q figure[data-size='left'],.css-1t538q figure:not([data-size]) > [data-size='left']{float:left;margin:0 20px 20px 0;max-width:33%;}.css-1t538q figure[data-size='right'],.css-1t538q figure:not([data-size]) > [data-size='right']{float:right;margin:0 0 20px 20px;max-width:33%;}.css-1t538q figure[data-size='collapse']{margin-bottom:0;}.css-1t538q figure[data-size='collapse'] + figure{margin-top:0;}.css-1t538q .content_image,.css-1t538q .origin_image{display:block;max-width:100%;height:auto;margin:1.4em auto;}.css-1t538q .content_image[data-size='small'],.css-1t538q .origin_image[data-size='small']{max-width:40%;}.css-1t538q .content_image.zh-lightbox-thumb,.css-1t538q .origin_image.zh-lightbox-thumb{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in;}.css-1t538q code{margin:0 2px;padding:3px 4px;border-radius:3px;font-family:Menlo,Monaco,Consolas,'Andale Mono','lucida console','Courier New',monospace;font-size:0.9em;background-color:#F6F6F6;}.css-1t538q pre{margin:1.4em 0;padding:calc(0.8em / 0.9);font-size:0.9em;word-break:initial;word-wrap:initial;white-space:pre;overflow:auto;-webkit-overflow-scrolling:touch;background:#F6F6F6;border-radius:4px;}.css-1t538q pre code{margin:0;padding:0;font-size:inherit;border-radius:0;background-color:inherit;}.css-1t538q li pre{white-space:pre-wrap;}.css-1t538q table[data-draft-type='table']{border-collapse:collapse;font-size:15px;margin:1.4em auto;max-width:100%;table-layout:fixed;text-align:left;width:100%;}.css-1t538q table[data-draft-type='table'][data-size='small']{min-width:260px;width:40%;}.css-1t538q table[data-draft-type='table'][data-row-style='striped'] tr:nth-of-type(2n + 1){background:#F6F6F6;}.css-1t538q table[data-draft-type='table'] td,.css-1t538q table[data-draft-type='table'] th{border:1px solid #D3D3D3;line-height:24px;height:24px;padding:3px 12px;}.css-1t538q table[data-draft-type='table'] th{background:#EBEBEB;color:#121212;font-weight:500;}.css-1t538q .video-box,.css-1t538q .link-box{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin:1.4em 0;overflow:auto;white-space:normal;cursor:pointer;border:solid 1px #EBEBEB;border-radius:4px;}.css-1t538q .lazy[data-lazy-status]{background-color:#F6F6F6;}.css-1t538q .lazy[data-lazy-status="ok"]{background-color:transparent;-webkit-animation:animation-1yvu044 0.5s ease-in;animation:animation-1yvu044 0.5s ease-in;}.css-1t538q .highlight{margin:1em 0;}.css-1t538q .highlight pre{margin:0;}.css-1t538q .highlight .hll{background-color:#FDFDFD;}.css-1t538q .highlight .c{font-style:italic;color:#999999;}.css-1t538q .highlight .err{color:#F1403C;}.css-1t538q .highlight .k{font-weight:500;}.css-1t538q .highlight .o{font-weight:500;}.css-1t538q .highlight .cm{font-style:italic;color:#999999;}.css-1t538q .highlight .cp{font-weight:500;color:#999999;}.css-1t538q .highlight .c1{font-style:italic;color:#999999;}.css-1t538q .highlight .cs{font-style:italic;font-weight:500;color:#999999;}.css-1t538q .highlight .gd{color:#FF3366;}.css-1t538q .highlight .ge{font-style:italic;}.css-1t538q .highlight .gr{color:#F1403C;}.css-1t538q .highlight .gh{color:#999999;}.css-1t538q .highlight .gi{color:#12b370;}.css-1t538q .highlight .go{color:#808080;}.css-1t538q .highlight .gp{color:#646464;}.css-1t538q .highlight .gs{font-weight:500;}.css-1t538q .highlight .gu{color:#999999;}.css-1t538q .highlight .gt{color:#F1403C;}.css-1t538q .highlight .kc{font-weight:500;}.css-1t538q .highlight .kd{font-weight:500;}.css-1t538q .highlight .kn{font-weight:500;}.css-1t538q .highlight .kp{font-weight:500;}.css-1t538q .highlight .kr{font-weight:500;}.css-1t538q .highlight .kt{font-weight:500;color:#175199;}.css-1t538q .highlight .m{color:#056DE8;}.css-1t538q .highlight .s{color:#F1403C;}.css-1t538q .highlight .na{color:#056DE8;}.css-1t538q .highlight .nb{color:#056DE8;}.css-1t538q .highlight .nc{font-weight:500;color:#175199;}.css-1t538q .highlight .no{color:#056DE8;}.css-1t538q .highlight .ni{color:#5555DD;}.css-1t538q .highlight .ne{font-weight:500;color:#F1403C;}.css-1t538q .highlight .nf{font-weight:500;color:#F1403C;}.css-1t538q .highlight .nn{color:#646464;}.css-1t538q .highlight .nt{color:#175199;}.css-1t538q .highlight .nv{color:#056DE8;}.css-1t538q .highlight .ow{font-weight:500;}.css-1t538q .highlight .w{color:#BFBFBF;}.css-1t538q .highlight .mf{color:#056DE8;}.css-1t538q .highlight .mh{color:#056DE8;}.css-1t538q .highlight .mi{color:#056DE8;}.css-1t538q .highlight .mo{color:#056DE8;}.css-1t538q .highlight .sb{color:#F1403C;}.css-1t538q .highlight .sc{color:#F1403C;}.css-1t538q .highlight .sd{color:#F1403C;}.css-1t538q .highlight .s2{color:#F1403C;}.css-1t538q .highlight .se{color:#F1403C;}.css-1t538q .highlight .sh{color:#F1403C;}.css-1t538q .highlight .si{color:#F1403C;}.css-1t538q .highlight .sx{color:#F1403C;}.css-1t538q .highlight .sr{color:#A5542F;}.css-1t538q .highlight .s1{color:#F1403C;}.css-1t538q .highlight .ss{color:#F1403C;}.css-1t538q .highlight .bp{color:#999999;}.css-1t538q .highlight .vc{color:#056DE8;}.css-1t538q .highlight .vg{color:#056DE8;}.css-1t538q .highlight .vi{color:#056DE8;}.css-1t538q .highlight .il{color:#056DE8;}.css-1t538q .highlight::-webkit-scrollbar{width:6px;height:6px;}.css-1t538q .highlight::-webkit-scrollbar-thumb:horizontal{background-color:rgba(18,18,18,0.5);border-radius:6px;}.css-1t538q .highlight::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(18,18,18,0.6);}.css-1t538q .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-1t538q .LinkCard.old,.css-1t538q .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1t538q .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-1t538q .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-1t538q .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-1t538q .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1t538q .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-1t538q .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-1t538q .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-1t538q .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-1t538q .LinkCard.new,.css-1t538q .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1t538q .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-1t538q .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-1t538q .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-1t538q .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1t538q .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1t538q .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-1t538q .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-1t538q .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-1t538q .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1t538q .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-1t538q .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1t538q .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-1t538q .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-1t538q .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-1t538q .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-1t538q .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-1t538q .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-1t538q .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-1t538q .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-1t538q .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-1t538q .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-1t538q .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-1t538q .LinkCard.new .LinkCard-richText .bold{font-weight:500;}.css-1t538q .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-1t538q .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-1t538q .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-1t538q .FileLinkCard-info{margin-left:12px;}.css-1t538q .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1t538q .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-1t538q .FileLinkCard-source{white-space:pre;}.css-1t538q img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}@-webkit-keyframes animation-1yvu044{from{opacity:0;}to{opacity:1;}}@keyframes animation-1yvu044{from{opacity:0;}to{opacity:1;}}</style><style data-emotion-css="1k6fd7f">.css-1k6fd7f{margin:0;padding-top:15px;}</style><style data-emotion-css="1any501">.css-1any501{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;background-color:#FFFFFF;width:40px;height:40px;border-radius:50%;}</style><style data-emotion="css"></style></head><body class="WhiteBg-body PostIndex-body Body--iOS Body--isAppleDevice" aria-basefontsize="16" data-rh="class"><a id="ariaTipText" role="pagedescription" aria-label="链接，无障碍模式读屏软件服务通道。" aria-atomic="true" href="javascript:void(0)" class="skipAutoFix" onclick="aria.wzaStart();" style="width: 1px; height: 1px;"><img src="" style="width:1px !important;height:1px !important;position:absolute;top:0;"></a><div id="root"><div class="App"><div class="LoadingBar  css-uzm3ri"></div><div><span style="position:absolute;top:-10000px;left:-10000px" role="log" aria-live="assertive"></span></div><main role="main" class="App-main"><div class="Post-content Post-content-mobile" data-zop-usertoken="{&quot;userToken&quot;:&quot;&quot;}" data-zop="{&quot;authorName&quot;:&quot;HansBug&quot;,&quot;itemId&quot;:501495148,&quot;title&quot;:&quot;设计杂谈(0x01)——配置文件的起源与矛盾&quot;,&quot;type&quot;:&quot;article&quot;}" data-za-detail-view-path-module="PostItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;token&quot;:&quot;501495148&quot;}}}"><div><header class="Sticky MobileAppHeader" style="line-height:50px"><div class="MobileAppHeader-inner"><a class="MobileAppHeader-logo" href="//www.zhihu.com?utm_source=zhihu&amp;utm_campaign=guest_feed&amp;utm_content=guide&amp;utm_medium=zhuanlan&amp;utm_id=0" aria-label="知乎"><svg viewBox="0 0 64 30" fill="#056DE8" width="52" height="24.375"><path d="M29.05 4.582H16.733V25.94h3.018l.403 2.572 4.081-2.572h4.815V4.582zm-5.207 18.69l-2.396 1.509-.235-1.508h-1.724V7.233h6.78v16.04h-2.425zM14.46 14.191H9.982c0-.471.033-.954.039-1.458v-5.5h5.106V5.935a1.352 1.352 0 0 0-.404-.957 1.378 1.378 0 0 0-.968-.396H5.783c.028-.088.056-.177.084-.255.274-.82 1.153-3.326 1.153-3.326a4.262 4.262 0 0 0-2.413.698c-.57.4-.912.682-1.371 1.946-.532 1.453-.997 2.856-1.31 3.693C1.444 8.674.28 11.025.28 11.025a5.85 5.85 0 0 0 2.52-.61c1.119-.593 1.679-1.502 2.054-2.883l.09-.3h2.334v5.5c0 .5-.045.982-.073 1.46h-4.12c-.71 0-1.39.278-1.893.775a2.638 2.638 0 0 0-.783 1.874h6.527a17.717 17.717 0 0 1-.778 3.649 16.796 16.796 0 0 1-3.012 5.273A33.104 33.104 0 0 1 0 28.74s3.13 1.175 5.425-.954c1.388-1.292 2.631-3.814 3.23-5.727a28.09 28.09 0 0 0 1.12-5.229h5.967v-1.37a1.254 1.254 0 0 0-.373-.899 1.279 1.279 0 0 0-.909-.37z"></path><path d="M11.27 19.675l-2.312 1.491 5.038 7.458a6.905 6.905 0 0 0 .672-2.218 3.15 3.15 0 0 0-.28-2.168l-3.118-4.563zM51.449 15.195V5.842c4.181-.205 7.988-.405 9.438-.483l.851-.05c.387-.399.885-2.395.689-3.021-.073-.25-.213-.666-.638-.555a33.279 33.279 0 0 1-4.277.727c-2.766.321-3.97.404-7.804.682-6.718.487-12.709.72-12.709.72a2.518 2.518 0 0 0 .788 1.834 2.567 2.567 0 0 0 1.883.706c2.278-.095 5.598-.25 8.996-.41v9.203h-12.78c0 .703.281 1.377.783 1.874a2.69 2.69 0 0 0 1.892.777h10.105v7.075c0 .887-.464 1.192-1.231 1.214h-3.92a4.15 4.15 0 0 0 .837 1.544 4.2 4.2 0 0 0 1.403 1.067 6.215 6.215 0 0 0 2.71.277c1.36-.066 2.967-.826 2.967-3.57v-7.607h11.28c.342 0 .67-.135.91-.374.242-.239.378-.563.378-.902v-1.375H51.449z"></path><path d="M42.614 8.873a2.304 2.304 0 0 0-1.508-.926 2.334 2.334 0 0 0-1.727.405l-.376.272 4.255 5.85 2.24-1.62-2.884-3.98zM57.35 8.68l-3.125 4.097 2.24 1.663 4.517-5.927-.375-.277a2.32 2.32 0 0 0-1.722-.452 2.327 2.327 0 0 0-1.536.896z"></path></svg></a><div class="MobileAppHeader-actions"><label class="MobileAppHeader-searchBox MobileAppHeader-searchBoxWithUnlogin Input-wrapper"><svg width="16" height="16" viewBox="0 0 24 24" fill="#999" class="ZDI ZDI--Search24 css-15ro776"><g fill-rule="evenodd" clip-rule="evenodd"><path d="M11.5 18.389c3.875 0 7-3.118 7-6.945 0-3.826-3.125-6.944-7-6.944s-7 3.118-7 6.944 3.125 6.945 7 6.945Zm0 1.5c4.694 0 8.5-3.78 8.5-8.445C20 6.781 16.194 3 11.5 3S3 6.78 3 11.444c0 4.664 3.806 8.445 8.5 8.445Z"></path><path d="M16.47 16.97a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 1 1-1.06 1.06l-3.5-3.5a.75.75 0 0 1 0-1.06Z"></path></g></svg><input type="search" value="" class="Input" placeholder="搜索"></label><a class="MobileAppHeader-authLink" href="https://www.zhihu.com/signin?next=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F501495148" data-za-detail-view-name="注册或登录"><svg width="24" height="24" viewBox="0 0 24 24" style="vertical-align:middle;margin-bottom:1px" class="ZDI ZDI--User24" fill="currentColor"><path fill-rule="evenodd" d="M7.25 8A4.75 4.75 0 0 1 12 3.25 4.75 4.75 0 0 1 16.75 8 4.75 4.75 0 0 1 12 12.75 4.75 4.75 0 0 1 7.25 8ZM12 1.75A6.25 6.25 0 0 0 5.75 8a6.248 6.248 0 0 0 3.275 5.498c-2.993 1.03-5.222 3.572-5.521 6.681a.75.75 0 1 0 1.493.144c.31-3.209 3.277-5.819 7.006-5.819.025 0 .05-.001.075-.004 3.692.036 6.622 2.634 6.93 5.823a.75.75 0 1 0 1.492-.144c-.3-3.11-2.527-5.652-5.52-6.684A6.248 6.248 0 0 0 18.25 8 6.25 6.25 0 0 0 12 1.75Z" clip-rule="evenodd"></path></svg></a><button type="button" class="Button css-183aq3r Button--blue">打开App</button><svg width="22" height="22" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-1ie3c6f" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0ZM13.665 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0ZM21.99 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0Z"></path></svg></div></div><div></div></header></div><div class="css-78p1r9"><div class="css-vn9cxj"><div class="css-1ld0bim"><img src="https://picx.zhimg.com/v2-1cf5c5c8963fda476804a914abfd0c34_720w.jpg?source=172ae18b" alt="设计杂谈(0x01)——配置文件的起源与矛盾" width="100%" height="100%" class="css-1phd9a0" srcset="https://picx.zhimg.com/v2-1cf5c5c8963fda476804a914abfd0c34_200x0.jpg?source=172ae18b 200w,https://picx.zhimg.com/v2-1cf5c5c8963fda476804a914abfd0c34_qhd.jpg?source=172ae18b 480w,https://picx.zhimg.com/v2-1cf5c5c8963fda476804a914abfd0c34_720w.jpg?source=172ae18b 720w,https://picx.zhimg.com/v2-1cf5c5c8963fda476804a914abfd0c34_1440w.jpg?source=172ae18b 1440w" loading="lazy"></div></div></div><article class="Post-Main Post-Main-Mobile" tabindex="-1"><header class="Post-Header"><h1 class="Post-Title">设计杂谈(0x01)——配置文件的起源与矛盾</h1></header><div class="Post-TimeExtra">7 个月前<!-- --> · 来自专栏 <!-- -->设计杂谈</div><div class="Post-Author Post-Author-Mobile"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><div class="AuthorInfo"><meta itemprop="name" content="HansBug"><meta itemprop="image" content="https://picx.zhimg.com/v2-510349e373c8aa017348dfa816c04381_l.jpg?source=172ae18b"><meta itemprop="url" content="https://www.zhihu.com/people/hansbug-35"><meta itemprop="zhihu:followerCount"><span class="UserLink AuthorInfo-avatarWrapper"><a href="//www.zhihu.com/people/hansbug-35" target="_blank" class="UserLink-link" data-za-detail-view-element_name="User"><img class="Avatar AuthorInfo-avatar css-kl6aur" src="https://picx.zhimg.com/v2-510349e373c8aa017348dfa816c04381_l.jpg?source=172ae18b" srcset="https://picx.zhimg.com/v2-510349e373c8aa017348dfa816c04381_l.jpg?source=172ae18b 2x" alt="HansBug"></a></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><a href="//www.zhihu.com/people/hansbug-35" target="_blank" class="UserLink-link" data-za-detail-view-element_name="User">HansBug</a><span rel="noopener noreferrer" class="css-2dtzk2">​<img src="https://picx.zhimg.com/v2-4812630bc27d642f7cafcd6cdeca3d7a.jpg?source=88ceefae" alt="" class="css-1m3x3v9"></span></span></div><div class="AuthorInfo-detail"><div class="AuthorInfo-badge"><div class="ztext AuthorInfo-badgeText css-0">INTP/J, just a mask, not me.</div></div></div></div></div></div><button type="button" class="Button FollowButton Button--primary Button--blue"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Plus FollowButton-icon" fill="currentColor"><path fill-rule="evenodd" d="M13.25 3.25a1.25 1.25 0 1 0-2.5 0v7.5h-7.5a1.25 1.25 0 1 0 0 2.5h7.5v7.5a1.25 1.25 0 1 0 2.5 0v-7.5h7.5a1.25 1.25 0 0 0 0-2.5h-7.5v-7.5Z" clip-rule="evenodd"></path></svg></span>关注</button></div><div class="Post-RichTextContainer"><div class="css-1yuhvjn"><div class="css-376mun"><div class="RichText ztext Post-RichText css-1t538q" options="[object Object]"><p data-first-child="" data-pid="ZAR1fGWT">在“设计杂谈”系列，主要会讲述设计相关的问题与思考。本文将主要针对配置的起源与实际面对的问题进行必要的讲述，以求为读者建立一个初步的概念。</p><p data-pid="-qRNg1zE">话不多说，开始。</p><h2>由静态到动态</h2><p data-pid="uywxXIB1">首先，我们来看这样一个需求：</p><blockquote data-pid="ht3ubSQm"> 设计一个程序，输入一个图片，并将其进行一系列处理，其中包括：<br> 1、翻转（flip） 2、旋转（rotate） 3、裁剪（crop）  </blockquote><p data-pid="4j7tBqhq">很简单对吧，那不妨先脑洞一波，来看看一般的做法会是怎样的。</p><h3>写脚本时的硬编码</h3><p data-pid="hiEWoPa0">首先，我们来看看一种最简单的情况。比如，现在需要把一个或者一批图片，<b>按照既定的操作来进行处理</b>。你打算写一个脚本来完成这项工作，使用<code>PIL</code>包进行处理，大概会是这样的一个画风</p><div class="highlight"><pre><code class="language-python3"><span class="kn">from</span> <span class="nn">PIL</span> <span class="k">import</span> <span class="n">Image</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'test_pic.png'</span><span class="p">)</span>
<span class="n">new_image</span><span class="p">:</span> <span class="n">Image</span><span class="o">.</span><span class="n">Image</span> <span class="o">=</span> <span class="n">image</span>

<span class="c1"># flip operation, left_right or top_bottom</span>
<span class="n">new_image</span> <span class="o">=</span> <span class="n">new_image</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">FLIP_TOP_BOTTOM</span><span class="p">)</span>

<span class="c1"># rotate, 0-360, from x-axis to y-axis</span>
<span class="n">new_image</span> <span class="o">=</span> <span class="n">new_image</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>

<span class="c1"># crop, x1, y1, x2, y2</span>
<span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">new_image</span><span class="o">.</span><span class="n">size</span>
<span class="n">new_image</span> <span class="o">=</span> <span class="n">new_image</span><span class="o">.</span><span class="n">crop</span><span class="p">((</span><span class="n">width</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="n">width</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="n">height</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">4</span><span class="p">))</span>
</code></pre></div><p data-pid="jVw9fLCe">而运行结果则是这样的（此处使用<code>matplotlib</code>展示图片，下文同）</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-29f83446d5690e81c95b70573fba31e9_b.jpg" data-size="normal" data-rawwidth="971" data-rawheight="338" class="origin_image zh-lightbox-thumb" width="971" data-original="https://pic2.zhimg.com/v2-29f83446d5690e81c95b70573fba31e9_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='971' height='338'></svg>" data-size="normal" data-rawwidth="971" data-rawheight="338" class="origin_image zh-lightbox-thumb lazy" width="971" data-original="https://pic2.zhimg.com/v2-29f83446d5690e81c95b70573fba31e9_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-29f83446d5690e81c95b70573fba31e9_b.jpg"></div><figcaption>运行结果，左图为原图，右图为转换后的图</figcaption></figure><p data-pid="dRxBi_5E">既定的效果实现了，效果十分令人满意，一切都没啥问题。</p><h3>写轮子时的函数化</h3><p data-pid="-m96QWU5">而接下来，由于这个脚本在越来越多的地方被用到，所以<b>需要将其进行一个封装</b>，使之不再依赖于特定的图片，也不再依赖于固定的流程，<b>可以被任意调用</b>以实现图片的处理。</p><p data-pid="DIyyfrqe">一番思索后，你进行了封装，于是画风变成了这个样子</p><div class="highlight"><pre><code class="language-python3"><span class="kn">from</span> <span class="nn">PIL</span> <span class="k">import</span> <span class="n">Image</span>



<span class="k">def</span> <span class="nf">processes</span><span class="p">(</span><span class="n">image</span><span class="p">:</span> <span class="n">Image</span><span class="o">.</span><span class="n">Image</span><span class="p">,</span> <span class="n">ops</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Image</span><span class="o">.</span><span class="n">Image</span><span class="p">:</span>
    <span class="n">cur_image</span> <span class="o">=</span> <span class="n">image</span>
    <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">ops</span><span class="p">:</span>
        <span class="n">op_type</span><span class="p">,</span> <span class="o">*</span><span class="n">op_vals</span> <span class="o">=</span> <span class="n">op</span>
        <span class="k">if</span> <span class="n">op_type</span> <span class="o">==</span> <span class="s1">'flip'</span><span class="p">:</span>
            <span class="n">cur_image</span> <span class="o">=</span> <span class="n">cur_image</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">op_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">op_type</span> <span class="o">==</span> <span class="s1">'rotate'</span><span class="p">:</span>
            <span class="n">cur_image</span> <span class="o">=</span> <span class="n">cur_image</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">op_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">op_type</span> <span class="o">==</span> <span class="s1">'crop'</span><span class="p">:</span>
            <span class="n">cur_image</span> <span class="o">=</span> <span class="n">cur_image</span><span class="o">.</span><span class="n">crop</span><span class="p">(</span><span class="n">op_vals</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">'Unknown operation - {repr(op_type)}.'</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">cur_image</span>



<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">image_</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'test_pic.png'</span><span class="p">)</span>
    <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">image_</span><span class="o">.</span><span class="n">size</span>
    <span class="n">new_image</span> <span class="o">=</span> <span class="n">processes</span><span class="p">(</span>
        <span class="n">image_</span><span class="p">,</span>
        <span class="p">[</span>
            <span class="p">(</span><span class="s1">'flip'</span><span class="p">,</span> <span class="n">Image</span><span class="o">.</span><span class="n">FLIP_TOP_BOTTOM</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">'rotate'</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">'crop'</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="n">height</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="n">width</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="n">height</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">4</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>
</code></pre></div><p data-pid="_KD32byE">直接运行时，可以获得和之前程序等价的效果。此后，对图片的三种操作正式被封装为了轮子，并在项目中被广泛使用。</p><h3>写工具时的配置化</h3><p data-pid="Ikda11WN">然而没过多久，随着处理过程的越发复杂，又开始有了新的需求。具体来说，你希望可以以一种更加黑盒的形态来对图片进行处理，并且考虑到<b>很多时候处理的流程都是相对固定的</b>，因此如果对图片进行处理时可以不必编写Python源代码那才是最好的。</p><p data-pid="tsUzBfcP">你思来想去，决定使用yaml这样的“配置文件”，来表达图片处理的流程逻辑。结合之前的函数化轮子，再一次封装后，画风又变了。首先是配置文件<code>config.yaml</code> ，如下所示</p><div class="highlight"><pre><code class="language-yaml"><span class="nt">processes</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">flip</span><span class="w">
</span><span class="w">    </span><span class="nt">direction</span><span class="p">:</span><span class="w"> </span><span class="l">top_bottom</span><span class="w">
</span><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">rotate</span><span class="w">
</span><span class="w">    </span><span class="nt">angle</span><span class="p">:</span><span class="w"> </span><span class="m">45</span><span class="w">
</span><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">crop</span><span class="w">
</span><span class="w">    </span><span class="nt">x1</span><span class="p">:</span><span class="w"> </span><span class="m">100</span><span class="w">
</span><span class="w">    </span><span class="nt">y1</span><span class="p">:</span><span class="w"> </span><span class="m">100</span><span class="w">
</span><span class="w">    </span><span class="nt">x2</span><span class="p">:</span><span class="w"> </span><span class="m">500</span><span class="w">
</span><span class="w">    </span><span class="nt">y2</span><span class="p">:</span><span class="w"> </span><span class="m">500</span><span class="w">
</span></code></pre></div><p data-pid="_i1YMtqf">即呈现这样的结构</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-14f9da10a492fcd5f98a04baa45526bb_b.jpg" data-size="normal" data-rawwidth="404" data-rawheight="240" class="content_image" width="404"/></noscript><div><img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='404' height='240'></svg>" data-size="normal" data-rawwidth="404" data-rawheight="240" class="content_image lazy" width="404" data-actualsrc="https://pic4.zhimg.com/v2-14f9da10a492fcd5f98a04baa45526bb_b.jpg"></div><figcaption>config.yaml呈现的层次结构</figcaption></figure><p data-pid="axGe4lGx">而后运行命令（该脚本已经经过重构，此处由于并非问题重点，因而不作详细展示）</p><div class="highlight"><pre><code class="language-bash">python process.py config.yaml test_pic.png</code></pre></div><p data-pid="pmPj716k">也同样得到了上述的结果，并且这一过程中对于使用者而言，并无需关注<code>process.py</code>的具体内容。</p><h2>配置文件</h2><h3>基本特性</h3><p data-pid="CM2p-yBN">诸如上面的“故事”，相比各位都非常熟悉，常做开发的人应该都会日常遇到。当一个业务逻辑需要往通用化方向发展时，就会产生“轮子”这一形态；而<b>当“轮子”需要被进一步黑盒化、工具化时，则需要引入“配置”这一概念</b>，也就是上面所使用的<code>config.yaml</code>。</p><p data-pid="04kvOiBF">对于“配置文件”，稍作观察不难发现其特性：</p><ol><li data-pid="UmnmVUVI">多为<b>树状结构</b>（JSON、YAML、conf等均是如此）</li><li data-pid="V3H9-KFV">表达<b>唯一且明确的语义</b>（即配置本身不该含有歧义）</li><li data-pid="OClVB7LC">可移植，<b>不依赖具体的语言或环境</b>（并无绝对界限，能满足实际需要即可）</li></ol><h3>现实存在的问题</h3><p data-pid="50u8bxoW">针对上述的第1和第2点，我们可以推测出以下的事实：</p><ul><li data-pid="-K1yZ6le">意味着其经常需要处理多层次的配置数据，表达<b>嵌套的语义</b>。</li><li data-pid="bgK_cSb7">意味着配置需要能精确表达其语义，展示其所有信息以<b>确保对配置解析器而言能解读出唯一含义</b>。 这样一来，在配置的设计上就会存在一个不可避免的问题——<b>绝对完备且嵌套的语义，必然导致配置文件可能变得极为冗长</b>。例如上述的图片处理，如果处理的<b>阶段再多上一些</b>，尤其是剪裁（crop）操作要是较多的话，则可以形成一个<b>极长无比</b>的配置文件。</li></ul><p data-pid="cPYcPGjT">也许你可能还是对配置的复杂性没有概念，那么容我们再看一个更复杂些的例子</p><h3>更复杂的例子</h3><p data-pid="K-wbejPL">其实说不复杂也不复杂，就是上面图片处理的plus版。更具体来说，就是对一系列的图片，进行带有一定随机性的处理。这个操作常应用于深度学习领域，被称为<a href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Data_augmentation" class=" wrap external" target="_blank" rel="nofollow noreferrer">数据增强</a>（Data Augmentation），定义如下：</p><blockquote data-pid="ervkBFgI"> Data augmentation in data analysis are techniques used to <b>increase the amount of data</b> by <b>adding slightly modified copies</b> of already existing data or newly created synthetic data from existing data. It acts as a regularizer and<b>helps reduce overfitting</b> when training a machine learning model. </blockquote><p data-pid="l5TBG6Iu">举个例子，你需要训练一个用于识别“手掌”图片的模型，然而你收集到的数据大都是左手，就像这样的</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-59f6157362267549dd40f8ed6714813f_b.jpg" data-caption="" data-size="normal" data-rawwidth="728" data-rawheight="546" class="origin_image zh-lightbox-thumb" width="728" data-original="https://pic4.zhimg.com/v2-59f6157362267549dd40f8ed6714813f_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='728' height='546'></svg>" data-caption="" data-size="normal" data-rawwidth="728" data-rawheight="546" class="origin_image zh-lightbox-thumb lazy" width="728" data-original="https://pic4.zhimg.com/v2-59f6157362267549dd40f8ed6714813f_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-59f6157362267549dd40f8ed6714813f_b.jpg"></div></figure><p data-pid="hI5K9wkk">训练过模型的都知道，如果直接将这样的数据作为训练集，则很可能会出现<b>针对“左手”的过拟合</b>情况，通俗来说，就是会让模型<b>只认识左手，而不认识右手</b>。</p><p data-pid="fQd-1Vpk">而为了解决这一问题，我们需要对原本的图片数据进行“增强”，也就是<b>随机转换生成一些新的数据</b>，其中比较常见的四种转换分别为（均基于<code>torchvision</code>）：</p><ul><li data-pid="jvSle21z">一定概率进行水平翻转（<a href="https://link.zhihu.com/?target=https%3A//pytorch.org/vision/0.9/transforms.html%23torchvision.transforms.RandomHorizontalFlip" class=" wrap external" target="_blank" rel="nofollow noreferrer">RandomHorizontalFlip</a>）</li><li data-pid="xFtU8Rvr">一定概率进行竖直翻转（<a href="https://link.zhihu.com/?target=https%3A//pytorch.org/vision/0.9/transforms.html%23torchvision.transforms.RandomVerticalFlip" class=" wrap external" target="_blank" rel="nofollow noreferrer">RandomVerticalFlip</a>）</li><li data-pid="nVO5XTsZ">随机旋转一定角度（<a href="https://link.zhihu.com/?target=https%3A//pytorch.org/vision/0.9/transforms.html%23torchvision.transforms.RandomRotation" class=" wrap external" target="_blank" rel="nofollow noreferrer">RandomRotation</a>）</li><li data-pid="cnK8f_OO">随机裁剪一定尺寸（<a href="https://link.zhihu.com/?target=https%3A//pytorch.org/vision/0.9/transforms.html%23torchvision.transforms.RandomCrop" class=" wrap external" target="_blank" rel="nofollow noreferrer">RandomCrop</a>）</li><li data-pid="Bpnni1LO">随机改变一定色调（<a href="https://link.zhihu.com/?target=https%3A//pytorch.org/vision/stable/generated/torchvision.transforms.ColorJitter.html%23torchvision.transforms.ColorJitter" class=" wrap external" target="_blank" rel="nofollow noreferrer">ColorJitter</a>） </li></ul><p data-pid="fjZ303Pc">例如，对于上面那只左手，可以经过一系列随机转换后，形成如下的效果</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-61f0e88dd51d592170262ff57a39a440_b.jpg" data-size="normal" data-rawwidth="849" data-rawheight="708" class="origin_image zh-lightbox-thumb" width="849" data-original="https://pic1.zhimg.com/v2-61f0e88dd51d592170262ff57a39a440_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='849' height='708'></svg>" data-size="normal" data-rawwidth="849" data-rawheight="708" class="origin_image zh-lightbox-thumb lazy" width="849" data-original="https://pic1.zhimg.com/v2-61f0e88dd51d592170262ff57a39a440_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-61f0e88dd51d592170262ff57a39a440_b.jpg"></div><figcaption>左上图为原图，其余八张图为转换后的结果</figcaption></figure><p data-pid="WMRWdhAt">有了这些数据，则可以很大程度上解决掉“无法识别右手”的情况，也大概不怎么会再因为光线之类的问题而导致识别出错了。</p><p data-pid="a-vlQZum">交代了完了这个问题，如果我们也需要将“数据增强”这一过程，封装为与上文类似的配置形态，则会变得极为复杂且混乱。比如，我们来随便挑一个配置看看，下面这个是<code>RandomCrop</code>的输入数据格式（<a href="https://link.zhihu.com/?target=https%3A//pytorch.org/vision/0.9/transforms.html%23torchvision.transforms.RandomCrop" class=" wrap external" target="_blank" rel="nofollow noreferrer">完整版在此</a>）</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-0a205dadf30d8fdd3df828ab234eb805_b.jpg" data-size="normal" data-rawwidth="1111" data-rawheight="828" class="origin_image zh-lightbox-thumb" width="1111" data-original="https://pic2.zhimg.com/v2-0a205dadf30d8fdd3df828ab234eb805_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1111' height='828'></svg>" data-size="normal" data-rawwidth="1111" data-rawheight="828" class="origin_image zh-lightbox-thumb lazy" width="1111" data-original="https://pic2.zhimg.com/v2-0a205dadf30d8fdd3df828ab234eb805_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-0a205dadf30d8fdd3df828ab234eb805_b.jpg"></div><figcaption>torchvision.transforms.RandomCrop官方文档截图</figcaption></figure><p data-pid="cUhobw6f">一共五个参数，其中有三个是带有结构化数据的。而与之类似的还有<code>RandomRotation</code>，相比之下<code>RandomVerticalFlip</code>和<code>RandomHorizontalFlip</code>要简单不少。</p><p data-pid="RWzHmnyD">我们可以尝试用YAML格式写一下由上述四类增强转换组合形成的流水线，画风则很可能是这样的</p><div class="highlight"><pre><code class="language-yaml"><span class="nt">processes</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">random_vertial_flip</span><span class="w">
</span><span class="w">    </span><span class="nt">p</span><span class="p">:</span><span class="w"> </span><span class="m">0.5</span><span class="w">
</span><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">random_horizontal_flip</span><span class="w">
</span><span class="w">    </span><span class="nt">p</span><span class="p">:</span><span class="w"> </span><span class="m">0.5</span><span class="w">
</span><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">random_rotation</span><span class="w">
</span><span class="w">    </span><span class="nt">degrees</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- -<span class="m">180</span><span class="w">
</span><span class="w">      </span>- <span class="m">180</span><span class="w">
</span><span class="w">    </span><span class="nt">interpolation</span><span class="p">:</span><span class="w"> </span><span class="l">nearest</span><span class="w">
</span><span class="w">    </span><span class="nt">expand</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">center</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="m">100</span><span class="w">
</span><span class="w">      </span>- <span class="m">100</span><span class="w">
</span><span class="w">    </span><span class="nt">fill</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">random_crop</span><span class="w">
</span><span class="w">    </span><span class="nt">size</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="m">300</span><span class="w">
</span><span class="w">      </span>- <span class="m">300</span><span class="w">
</span><span class="w">    </span><span class="nt">padding</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="m">3</span><span class="w">
</span><span class="w">      </span>- <span class="m">5</span><span class="w">
</span><span class="w">    </span><span class="nt">pad_if_needed</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">fill</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="m">255</span><span class="w">
</span><span class="w">      </span>- <span class="m">128</span><span class="w">
</span><span class="w">      </span>- <span class="m">0</span><span class="w">
</span><span class="w">    </span><span class="nt">padding_mode</span><span class="p">:</span><span class="w"> </span><span class="l">constant</span><span class="w">
</span></code></pre></div><p data-pid="HY5n0ED8">即呈现这样的结构</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-b6bfde1eeefb82cf204503eaef7a9506_b.jpg" data-size="normal" data-rawwidth="546" data-rawheight="446" class="origin_image zh-lightbox-thumb" width="546" data-original="https://pic3.zhimg.com/v2-b6bfde1eeefb82cf204503eaef7a9506_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='546' height='446'></svg>" data-size="normal" data-rawwidth="546" data-rawheight="446" class="origin_image zh-lightbox-thumb lazy" width="546" data-original="https://pic3.zhimg.com/v2-b6bfde1eeefb82cf204503eaef7a9506_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-b6bfde1eeefb82cf204503eaef7a9506_b.jpg"></div><figcaption>包含四种转换组合的配置文件层次结构</figcaption></figure><p data-pid="ITUEFNeU">这还仅仅只是每种类型仅添加了一次，如果次数更多的话，结构还会更加复杂。不仅如此，序列形式的结构化数据在树状结构的配置文件中的表意也并不足够清晰。</p><h3>设计上的矛盾点</h3><p data-pid="kT8pF1jC"><b>以上的问题，在配置文件的实际使用中是广泛存在的</b>，而且由于实际应用中还会涉及到多模块，以及多种不同的结构化数据格式，因此还可能存在更加冗长的内容，以及层数更深的嵌套。</p><p data-pid="MqiPVkQS">而这个问题实际上<b>根源在于配置灵活性和易用性的矛盾</b>。例如，在上述数据增强的例子中，<code>RandomCrop</code>和<code>RandomRotation</code>均有较多的参数，但是<b>实际应用中</b>会被使用的只是<b>一少部分</b>。而若要<b>覆盖</b>此类操作的<b>全部潜在功能</b>，则又必须设立如此复杂的各类参数。于是矛盾就是这样形成的。这也正是为什么<b>常见的配置文件往往都比较冗长</b>的原因。</p><p data-pid="Ogjz7grK">鉴于这样的情况，为了更好地设计配置文件格式，使之便于编写和查阅，则是一个值得讨论的问题。实际上，在设计领域已经有比较成功的实践，且适合于配置文件的设计，这便是——<b>“约定大于配置”</b>原则。具体内容，将在下一篇中作详细讨论，敬请期待。</p></div></div></div></div><div class="Post-ReadMark"></div><div role="button" tabindex="0" class="ContentItem-time">编辑于 2022-07-12 08:30</div><span></span></article><div class="KfeCollection-VipRecommendCard KfeCollection-VipRecommendCard-article Post-VipRecommendCard"><div class="KfeCollection-VipRecommendCard-title">如何以“我穿越过来时，故事已经接近尾声”开头写一个故事?</div><div class="KfeCollection-VipRecommendCard-author"><div class="KfeCollection-VipRecommendCard-author-avatar"><img src="https://pic3.zhimg.com/v2-00b1664103a344cd4402521da3a95d37.jpg"></div><div class="KfeCollection-VipRecommendCard-author-name">满目山河依旧</div><div class="KfeCollection-VipRecommendCard-author-icon"><img src="https://pic1.zhimg.com/50/v2-5b7012c8c22fd520f5677305e1e551bf.webp"></div></div><div class="KfeCollection-VipRecommendCard-content">我穿越过来时，故事已经接近尾声，而我，穿越成了自己书里的人物。连炮灰都算不上， NPC 一个，名叫展羽霁，在我这本《大齐风华》里，笔墨不超过三章，描写不超过两百个字。我的男宠是可以随时干掉我的大佬，而这位男宠，是我小说的主人公——谢琛，狂炫酷霸拽的起点文逆袭大男主，我在文中给他开了无数金手指，令他在众叛亲离的情况下，仅用十年就从锒铛入狱的罪臣之子登临帝位。而现在时间线是文章末期，男主的势力差不多构建完毕，但出了点小状况，他设计截杀大将周冲时，被流矢射中，落入河中。这在文里当然不是什么大问题，但为了剧情紧凑情节波折，我当时脑子一抽，让昏迷的男主被不长眼的长平侯府小世子抢回府里。要命的是，这位小世子硬要男主当他的男宠。谢琛在我笔下是个脾气不好但城府颇深、喜怒不形于色的货色，他周旋良久，等到手下找来，就直接将长平侯府屠了个满门。当时我的评论区下面全是读者在嚎——「好爽！」「特么的这才是真·爽文啊！」「就该杀他丫的，也太侮辱人了」单章评论首次过千，我身为作者亲妈笑得美滋滋。而现在，当我听到侯爷喊我「羽霁」时，我只恨我为什么要手贱写这本破文！02我想，我还能抢救一下。只要男主还没出现，我就绝不往那条河边凑！「世子，那个关在柴房的男宠……该如何处置？」我眼前一黑，险些晕了过去。论如何从小说后期已成长为大佬的男主手下活过三章？我想哭。我为什么不把男主写得弱一点呢？我脑内千回百转，思考了上百种方法，终于还是哭丧着脸道：「带我去见他。」我打了个寒颤，又嘱咐道：「……嘴上把门，对他尊敬点，别再叫他男宠了。」03第一次见到自己笔下的人物实体化，我心里「卧槽」了一句。不愧是我写的男主，端方君子，温润矜雅，即便肩膀受了重伤，也不减风华半分。谢琛一双波光潋滟的眼看着我：「见过世子。不知世子意欲何为？」其实说起来，小世子也没做啥——只是上来就不分青红皂白，关人一顿不给吃的，美其名曰「磨磨锐气」，是炮灰脑残 NPC 的通常套路。写这段是为了跟之后的打脸形成鲜明对照。「赤水交战，江城府尹下令，有异常情况及时上报。重赏之下必有冤案，最近不少外地人无辜被冤枉成叛军，悬尸于城墙之上。我担心公子被人发现，不得已将公子藏于此处，公子的伤可还要紧？我已经派人去找我姑姑，她懂医术，一会儿便能为公子处理伤口。」电光火石之间，我已经为自己编好了一个剧本。不愧是我！写过五本朝堂升级流爽文的勤劳码字工！「世子就不怕我真的是叛军？」谢琛不动声色地笑。他肩上是贯穿伤，已经被他自己简单处理过了，但在水里泡了几个时辰，又被关在柴房昏了一上午，如此体力不支、情形不明的状况下他仍能镇定自若……不愧是我笔下人气最高的男主！「公子说笑了，你未披铠甲未执兵锐，手无寸铁，怎么会是叛军呢？」我说道。算是给双方一个合理的借口。我只求能尽快送走这尊大佛，别把自己的命给送了就行。04其实也不是不能杀了男主。毕竟我给男主的设定，是智力值 MAX，武力值中等，多找几个身强力壮的护卫，压也能压得死他。但我舍不得。毕竟是陪伴了我两年的亲儿子，我心里默念：大佬思考别过脑，我好你好大家好。「伤得不轻呀。」展羽霁的小姑是个久居江南的女子，一口吴音软语，替他包扎处理，「痛得话就说一下。」谢琛除去额角出了细汗，神色依旧如常，温和笑道：「没事，展姑娘不用顾忌我。」我沉迷于男主的美色，后知后觉品出这话的意思。我从头到尾都没提「展」家，谢琛却直呼展羽霁姑姑为「展姑娘」，很明显他知道这是哪儿！不过这也不难推导，赤水下游的江城，侯府就也这么一家。但我没想到谢琛的记性能好到这个程度——我的设定里，江城从来不是主要交战区，而长平侯府更是没什么实权的破落家族，作为统筹大局的男主，根本不需要记这些东西的！他最多也就扫了眼情报。那那那那他知道，展羽霁这个小世子，好男色吗？？？05小姑走后，就我和谢琛在房里。我方了，很方。谢琛靠在我侧房的软塌上，侧脸在灯火下犹如玉雕，赤裸的上身白皙劲瘦，软塌较短，他的长腿只能半屈，对一个伤患来说体验肯定不会太好。可从他面上看不出分毫。他彬彬有礼地对我说：「多谢世子相救。近来城中氛围很紧张吗？」「那是当然，仗都打到家门口了，也不知道什么时候是个头。」我愁眉不展。他安抚般笑道：「想必快了。江城不会被波及的，放心。」我不敢和这尊大佬单独呆太久，尽管严格来说，我是他的作者爸爸。我把放在一旁的长袍递给他，斟酌道：「那公子好好休息。」我正准备离去，听到谢琛悠悠问我：「世子似是对我避之不及，也没有过多亲近之举，是敏之入不了世子法眼吗？」敏之是谢琛的字。我：？？？我愣了三秒，才懂谢琛的意思。他娘的果然是听说过「长平侯府世子好男色有一堆男宠」的传闻，见我老老实实规规矩矩，在这试探+调戏我呢。我果断关上门，夺路而逃。身后一声隐约轻笑，苏得人头皮发麻。气死了，爸爸没有你这么叛逆的儿子！06气虽气，我还是要操心男主的伤情。他接下来有场攻入皇城的硬仗要打，在原文里，神医林征虽然医好了男主，但春季潮湿，谢琛还是留下了病根——反正是文章结尾，我一笔带过了。读者不知道，我却清楚，谢琛之后每到梅雨季节，肩膀的旧伤都要痛上几个月。我板着脸：「公子多加注意，箭伤不是说笑的。」谢琛把玩着我送来的药，唇边噙着抹笑：「劳烦世子关心。」谢琛在府上养了三天，就告辞离去。离去前，他低下头，在我耳边道：「多谢世子隐而未报，日后再见，琛必有重谢。」我以一个老父亲的心态想：儿砸，做父母的不需要报答。07展羽霁养了三个男宠，风姿各异，性格迥然。但都有一个特点。脸美。我这段时间闲来无事，就宅在府上，看看美人磕磕颜，偶尔听小厮聊八卦。他们说，叛军赤水大捷之后又一路东进，快要打到皇城望都了。又过了两个月，望都被攻下，昏庸无道的皇帝人头落地。百官皆降，簇拥着谢琛坐上皇位。展羽霁他爹摸了摸我狗头，说道：「儿子啊，这世道变得太快了，还好我们不待在望都，天高皇帝远的，当个土地主多舒服。」我感叹刚当别人爸爸没几次，就成了儿子。虽然我还是觉得不怎么真切，毕竟严格来说，这些人都是我创造出来的纸片人，这个世界是我构想出的世界。但眼前这老头子还是挺真实的，于是我咧了咧嘴，笑着点了点头。心想如果这么有闲有钱度完一辈子，倒也不错。可惜这老头儿嘴巴开了光。他说完这句话第二天，望都就来了一道圣旨。新皇点名道姓，让长平侯府小世子速来望都，进宫面圣。我愁眉不展，拍了拍惊恐不定的老侯爷肩膀，心说，我也没给您老设定个乌鸦嘴啊。我就这么被叫去望都了。有个男宠哭兮兮地抱我大腿，非要跟我走——说小世子不在，老侯爷八成要赶他们出府。我最见不得美人落泪，干脆把他们三个都捎了过去。我还制作了一副麻将，四个人刚好凑个整。他们对新奇的牌局很感兴趣，一路上都聚在马车里打麻将，我乐呵呵地给他们喂牌，输了算我的，赢了算他们的。心下却有些愁：谢琛叫我过去，到底是做啥呢？我一时片刻竟揣摩不透儿子的想法了。作为老父亲，十分发愁。马车摇摇晃晃半个月，终于到了京城。前来接见的是个太监，从他嘴角硕大的美人痣，我认出这是我笔下人气很高的魏公公。——这货有一颗月老心，喜欢给男主物色美人，燕环肥瘦，都得先经过他老人家的眼。男主设定是个黑心芝麻汤圆，但家族破灭前，也是个世家公子。要不是为了复仇，他性格称得上温润淡然，于男欢女爱上，兴趣值基本为 0。但起点那群老色批们，又非得让男主收后宫……为了不崩人设，我只得设计了魏公公这么个角色。唯一目的就是网罗来各色美人，苦口婆心地说「陛下您该纳妃」了。我和魏公公大眼瞪小眼，不明白这位肥圆成球的胖公公，非得揽这种出来接人的累活干啥。中秋还未到，秋老虎恼人得很，您看您这满头大汗的。魏公公有些尴尬地咳嗽了声，对我道：「世子爷，您这边请——」他带我去了一座宅邸，说是谢琛暂赐我住下的。「世子爷救了陛下，可谓是从龙之功呀，陛下为人重情重义，必定会有重赏的。」魏公公笑得见牙不见眼，「咱家再给您拨几个奴才伺候着，您就安心等陛下的赏赐吧！」下人们高兴地不行，等魏公公走后，我却高兴不起来。因为我记得，这是一处凶宅。08我瞪着府邸上发旧的匾额出神，对站在我旁边敷粉的某位男宠发愁：「你说，他把谢家的旧宅给我住，葫芦里卖啥药？」大齐背景类似魏晋，男子化妆不足为奇。可这宣平之，实在是太爱惜自己的容貌了，对这些化妆品了解得比小世子的丫鬟都多。再加上这位兄台略娘，我总是在心里叫他 Tony 老师。「哎呀，这说明新皇器重世子爷嘛~您看，除了老旧的匾额未动，这里都修缮一新了，一点也看不出来荒废了快十年的样子。」 宣平之翘着兰花指说道，「谢家的老宅子，可是陛下小时候长大的地方。除了您，这京城里谁有这份殊荣？」我却越过匾额，看到那深黑的房梁。谢琛的母亲就是在这根房梁上吊死的——在谢家被抄家的那晚。在房梁上晃动的惨白色身影，是谢琛见到他母亲的最后一面。把主角的背景写惨点，来个先抑后扬，好让读者更有打脸升级的爽快感是一回事。亲自深入其中，见到真实的现场，又是一回事。我仿佛看到了十二岁的谢琛，在哭泣中无能为力被拖走的样子。不知怎的，我心脏有点疼，针戳了似的。我拍了拍宣平之的肩膀，说道：「你脚下当年说不定就摆了具谢家仆人的尸体。」宣平之「哎呀」一声跳开，差点扭伤脚，被我轻轻揽住了腰。「小心。」我扶稳他。他红着脸：「谢世子爷。」然后使劲往我身上蹭。我：「……」这几个月来，三个人或试探或有意，总是往我眼前凑。我敬谢不敏。俩大老爷们，我有的你也有，硬梆梆的，哪里有软妹子抱起来舒服？我斟酌道：「平之，等这边接完赏，安定下来，我就给你们三个每人一笔银两和一处地契，你们去做自己喜欢的事儿吧。」宣平之哭丧着脸：「平之只想一辈子伺候世子爷。」他娘是青楼女子，他也无一技傍身，留在侯府当个男宠，是最好的选择。自力更生对另两位来说比较简单，对他来说还挺难。于是我让步道，「你如果实在不想走，也随你意，反正侯府多养一个人，还是没问题的。」他这才哭哭啼啼地走远，估计是跑去和另外两位控诉了。我抬头望天，发愁地想：「可是剩下两位都是被强抢来的，恨不得早点逃脱，你去倒苦水，他俩得像看傻子一样看你。」我想还是要介绍一下，小世子这三个除了脸俊外风姿各异的男宠。我按照身高给他们排了个序。一号估摸着有 190cm+，是个武林中人，真名不详，只知道姓娄，因为额角有块月牙形刀疤，小世子就唤他娄月。宽肩窄腰大长腿，搁现在很有做模特的潜质，随身揣着把弯银刀，反正我有点怵这位兄台。毕竟当初小世子是从衙门里带他回来的——娄月牵扯进了一桩杀人案。纨绔世子爷当天衙门一日游，看到娄月样貌，就心痒痒地把人给要来了。杀人犯也敢上，我只能说展羽霁你是个人物。二号选手 185cm 肯定是有的，名为秦臻远。书香门第出身，但家道中落，在钱庄帮忙算账，筹备科举考试时，被前去换银两的展羽霁瞧上了。这人有点文人特有的清冷孤傲，眉眼又冷然，估计很合展羽霁的胃口。就是我瞅着这比我还高五六厘米的身高差，心里嘀咕。这秦臻远不像娄月，娄月有点无所谓的吊儿郎当和痞气，秦臻远却明显是受不得欺辱的那种性格。于是我第一次对这位世子爷的属性，产生了怀疑。三号就是这位 Tony 老师宣平之了，175cm。还是有人比我矮的。果不其然，次日宣平之哭哭啼啼地又跑了回来，说秦臻远骂他有病。我只得一边等谢琛召见，一边生无可恋地安慰多愁善感的 Tony 老师。谢琛应该很忙，刚当上皇帝，一堆繁琐政事需要他操心。直到中秋时，他才邀请我去宫中赴宴。09谢琛不喜奢华，宴席也办得从简。我目不转睛地盯着为首的那些大臣，从外貌性格辨别他们是我笔下的谁。丞相、谢琛的老师、大将军、兵部侍郎。怪新奇的。比自己的作品被影视化了还新鲜。宴席结束，谢琛在御书房单独召见了我。他换了件青衣，冠冕旒珠换为紫玉冠，端的是潇潇君子。见我行礼，他温声道：「免礼，世子坐吧。这望都一个月，住的可还习惯？」「挺好的，这里酒楼饭馆我都尝了个遍，九歌楼的酒配上东坡肉，味道绝佳。」我眼神不住地瞟谢琛搁在书案上的手。骨节如竹，修长白皙，可惜左手大拇指指骨有些凹陷。那是在西陵一战时，留下的旧伤。当时怎么没把这些副本，设定简单得一些呢？我心想，一笔带过的伤，在这里却是会伴随他一生的啊。谢琛没忍住笑了，道：「世子倒是性格洒脱。」「奴婢给陛下和世子爷奉茶。」魏公公适时出现，给我俩一人奉了一杯热茶，说是解解腻。他那喜庆如弥勒佛的脸上，一双眼实在是显小，我得费劲巴拉地才能发现，他在打量我。我想：看啥看，我又不是皇帝潜在的后宫，用得着这么把关似地盯着我吗？「不敢，陛下谬赞。」我道。我端起茶盏来凑到嘴边，就听到谢琛悠悠问道：「对了，世子府上那三位公子，近来可好？」我差点没一口茶水喷出去。不是，儿砸，你打听这三个男宠干什么？？？你不会看上哪位了吧？？？我惊疑不定，飞快想了圈剧情，悲伤地意识到，直至小说结尾，男主虽然被魏公公塞了一大堆后宫，但的确没有临幸任何一位妃子。我：「……」我强作镇定：「劳烦陛下挂心，他们三位在望都住得习惯。」「世子不必紧张。」谢琛似乎看出我的不安，「只是听礼部尚书常大人提到过，最近有个白衣公子，与京中文人交谈颇深，文采斐然得众人推崇。」我头疼：「……陛下说的是秦臻远吧？」事实上，除了 Tony 老师安分点，那个江湖客娄月也好，还是一心想着考科举的秦臻远也好，一天到晚都不见人影。要不是谢琛提起，我真不知道他们在干啥。谢琛但笑不语。这眼神我熟——表示我话说一半，你尽量猜。　我硬着头皮解释：「臣本想见过陛下后，就遣散他们三人，再归江城的。他们三位闲散惯了，做事没什么规矩，还请……」「世子可能还需在望都住上一段时日。」谢琛放下茶盏，似笑非笑地打断我，「论功行赏，也得在年节大祀之后，望都的春景也堪称一绝，世子大可等春末再回。」掐指一算，现在八月中秋，距离明年末春还有七个月。我就算再后知后觉，也能意识到谢琛这是有意困我在京城。反正不管怎么样，这个年我在这过定了。等谢琛命魏公公送我出宫时，我还是有点懵。就塞了块银锭子给魏公公，试探道：「在望都还得待几个月，我这心里实在挂念父亲，却拿不准陛下意图，公公可知晓？」魏公公果断推拒：「哎哟，世子爷，您可真是折煞老奴了，使不得使不得。陛下这是喜欢您呐！想留您多住些时日，您就尽管安心吧！驿站的信使，世子爷都可使唤，也好给侯爷报个平安。」尽管知道魏公公说的喜欢不是那个意思，但我还是打了个哆嗦。10论功行赏虽在之后，这次入宫我也不是空手而归，还是有些赏赐被搬回了谢家老宅。手头闲钱多了，我动了提前打发三个男宠离开的心思。出乎意料的是，宣平之不想走就算了，娄月和秦臻远也当下拒绝。娄月抱刀靠在门侧，道：「懒得走，江湖啊也就那样，刀光剑影命悬剑刃上，待久了没意思，想找个地儿养老。长平侯府就挺适合的，世子爷应该不会赶我走吧？还是说世子爷嫌我伺候得不舒服？」我看着他那把弯刀，服软：「……不会。」秦臻远嗓音清冷，清俊的一张脸有拒人千里之外的冷漠：「暂且还得倚仗世子，叨扰。」我：「？？？」我对他这「求人」态度无奈，抚额：「……无事。」至于宣平之，他本来就不想走。此次谈判宣告破裂。当晚回到房间，沐着月色我给自己斟了杯谢琛赐的酒。不对劲。我凭着自己的记忆，开始复盘这件事。按照谢琛的性格，不会行无用之功，那他软禁我在望都，定有他的理由。其实谢琛当时屠了长平侯满门，是有些 OOC（人设崩坏）的。谢琛早年以罪臣之子身份入朝堂，沉浮过四五年，为了给他刷经验刷脸熟，各个部门我都让他转了一圈。他为人温润和沐，风评极佳，收拢了大波人心。后来，他率兵入望都时，这些文武百官都老老实实投降——因为见识过他的能力和为人，心服口服。既然如此，谢琛不太可能在他刚登帝位，势力不稳之时，就将侯府三百多人全都杀个干净。这太容易落人口舌。但小说快结尾有些疲软，追更人少了大半，订阅也跟不上，我为了吸引读者眼球，只好设置了这么一个小高潮。「如果……小说能够自行补足逻辑缺漏的 bug 呢？」我不知不觉，将一壶酒都喝完。如果谢琛毫不犹豫地下令斩杀，是有其他理由呢？那……又会是什么理由呢？11真相如何暂且不论，我还是留了个心眼。我让宫里拨来几个小宫女，日日向我报告这三个男宠的行踪。他们看上去倒是规规矩矩。娄月是真过上了「保温杯里泡枸杞」的养老日子，整天去茶楼听评书，据说还路见不平，拔刀救下了一位差点被强抢的民女。我听了以后心呼诡异，你们仨不都差不多是被展羽霁强抢进侯府的吗？秦臻远一心向学，我倒是明白了他说的「倚仗我」是啥意思，感情是挂着我客卿的名头，好去参加一些文人清谈。至于 Tony 老师宣平之就更悠闲自在了，琢磨着新妆，往小宫女脸上试，一个两人个的，被他打扮得花枝招展。我一边纳闷自己是不是忒大惊小怪了，一边绕着皇城转悠，盘算着还有哪些表面投降，实存反心的臣子。这一次，我不太想让谢琛再这么辛苦。我一个无权无势的小世子当然谋划不了太多，但我可以替这些反臣们做一两件出格的事儿，足以让谢琛注意到他们。腊月末，大雪纷纷扬扬地下，我披着一件狐裘大氅站在兵部侍郎府前看戏。「让谢琛来见我，我真是瞎了眼，那小子在我手底下做事的时候，我怎么没看出来他是个狼子野心的东西，他这个千古罪人——」兵部侍郎双眼通红地嘶吼，却被扣押他的羽林卫拖远，后面的话听不清，埋进风雪里。这应该是最后一个假降的官员了。我滴溜溜地转着油纸伞黄木的伞柄，心情愉悦。原文里这兵部侍郎仗着和谢琛是旧识，差点下毒害死了他。我转身正准备离开，却猝不及防闯入一双探究的眼。谢琛不知在我身后站了多久。未带侍从，孤身一人，月白色长袍外也不晓得裹件斗篷披风，细碎的雪沫在他肩上铺了薄薄一层，更是落在他的长睫上，衬得眼眸更深邃清润。我心道：「药丸。」</div><div class="KfeCollection-VipRecommendCard-footer"><div class="KfeCollection-VipRecommendCard-footer-number">9279 点赞 · 234 评论 · 盐选推荐</div></div></div><div class="Post-Sub Post-Sub-Mobile"><div class="css-1u20tgo" data-za-detail-view-path-module="CommentList" data-za-extra-module="{}"><div class="css-n51fzv">评论 </div><div class="css-5nsq0q"><div class="css-1w5k7wg"><img src="https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_s.jpeg" class="css-rdccu8"></div><div href="https://www.zhihu.com/comment/list/article/501495148?open_editor=true" class="css-entir"><div role="link" tabindex="0" class="css-eh6tr1"><div class="css-1n5v8m5">写评论</div></div></div></div></div><div class="PostIndex-Contributions" data-za-detail-view-path-module="ColumnList" data-za-detail-view-path-module_name="文章被以下专栏收录" data-za-extra-module="{}"><h3 class="BlockTitle">文章被以下专栏收录</h3><ul><div class="ContentItem Column-ColumnItem"><div class="ContentItem-main"><div class="ContentItem-image"><img class="Avatar css-1any501" src="https://pica.zhimg.com/4b70deef7_l.jpg?source=172ae18b" srcset="https://pica.zhimg.com/4b70deef7_l.jpg?source=172ae18b 2x" alt="设计杂谈"></div><div class="ContentItem-head"><h2 class="ContentItem-title"><span>设计杂谈</span></h2><div class="ContentItem-meta">讲讲代码设计的那点事</div></div></div></div></ul></div><div role="complementary" aria-label="推荐阅读" class=""><h3 class="BlockTitle Recommendations-BlockTitle">推荐阅读</h3><ul class=""><a href="https://zhuanlan.zhihu.com/p/28059594" class="MobilePostItem"><div class="MobilePostItem-Description"><div class="MobilePostItem-Title">分享我工作中制定配置文件的习惯</div><div class="MobilePostItem-Summary u-ellipsis" style="display: none;">工作中少不了要制定各种各样的配置文件，这里和大家分享一下工作中我是如何制定配置文件的，这是个人习惯，在我在的项目组中目前要定义配置文件都安装这个步骤，效果还不错。 如我们现在有…</div><div class="MobilePostItem-Footer">晓风轻</div></div></a><a href="https://zhuanlan.zhihu.com/p/333859655" class="MobilePostItem"><div class="MobilePostItem-Description"><div class="MobilePostItem-Title">MMDetection2（一）：学习配置文件</div><div class="MobilePostItem-Summary u-ellipsis" style="display: none;">前言MMDetection2中大部分模型都是通过配置4个基础的组件来构造的…</div><div class="MobilePostItem-Footer">秋名山翻... · 发表于小白机器学习入门笔记</div></div><img src="https://pica.zhimg.com/v2-71acefd16c43e1c16f9afcea517ec52d_ipico.jpg?source=172ae18b" srcset="https://pica.zhimg.com/v2-71acefd16c43e1c16f9afcea517ec52d_250x250.jpg?source=172ae18b 2x, https://pica.zhimg.com/v2-71acefd16c43e1c16f9afcea517ec52d_ms.jpg?source=172ae18b 3x" class="MobilePostItem-TitleImage" alt="MMDetection2（一）：学习配置文件"></a><a href="https://zhuanlan.zhihu.com/p/391427244" class="MobilePostItem"><div class="MobilePostItem-Description"><div class="MobilePostItem-Title">GitHub 又一系统装机神器面世！U 盘无需格式化，支持多选系统，一键装机！</div><div class="MobilePostItem-Summary u-ellipsis" style="display: none;">大家好，我是小 G。 打从 Windows 11 发布以来，许多老用户都对这…</div><div class="MobilePostItem-Footer">GitH... · 发表于GitHubDaily</div></div><img src="https://pica.zhimg.com/v2-95cf834fdb358d641cc1c11f77f98ff4_ipico.jpg?source=172ae18b" srcset="https://pica.zhimg.com/v2-95cf834fdb358d641cc1c11f77f98ff4_250x250.jpg?source=172ae18b 2x, https://pica.zhimg.com/v2-95cf834fdb358d641cc1c11f77f98ff4_ms.jpg?source=172ae18b 3x" class="MobilePostItem-TitleImage" alt="GitHub 又一系统装机神器面世！U 盘无需格式化，支持多选系统，一键装机！"></a><a href="https://zhuanlan.zhihu.com/p/337268162" class="MobilePostItem"><div class="MobilePostItem-Description"><div class="MobilePostItem-Title">万字详解本地缓存之王 Caffeine 的高性能设计之道！</div><div class="MobilePostItem-Summary u-ellipsis" style="display: none;">概要 Caffeine是一个高性能，高命中率，低内存占用，near optimal …</div><div class="MobilePostItem-Footer">里奥ii · 发表于Java学习</div></div><img src="https://picx.zhimg.com/v2-55c1c840d4e3e922cf126be282b95905_ipico.jpg?source=172ae18b" srcset="https://picx.zhimg.com/v2-55c1c840d4e3e922cf126be282b95905_250x250.jpg?source=172ae18b 2x, https://picx.zhimg.com/v2-55c1c840d4e3e922cf126be282b95905_ms.jpg?source=172ae18b 3x" class="MobilePostItem-TitleImage" alt="万字详解本地缓存之王 Caffeine 的高性能设计之道！"></a></ul></div><div class="OpenInAppButton is-higher css-1f5xhxn" style="opacity: 0.972212; transform: translateY(0.222305px) translateZ(0px);"><div class="css-rgo48u"><img src="https://picx.zhimg.com/v2-1cf5c5c8963fda476804a914abfd0c34_720w.jpg?source=172ae18b" alt="" class="css-wuqovw"><div class="css-1yat212"><div class="css-vz3lej">设计杂谈(0x01)——配置文件的起源与矛盾</div><div class="css-hmo57f">HansBug 的文章 7 赞同</div></div><button type="button" class="Button Button--primary Button--blue css-ul4a7g">打开</button></div></div><div><div class="Sticky RichContent-actions is-fixed is-bottom" style="width: 800px; bottom: 0px; left: 88.5px;"><div class="ContentItem-actions" data-za-detail-view-path-module="BottomBar" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;id&quot;:&quot;501495148&quot;}}}"><span><button aria-label="赞同 7 " aria-live="polite" type="button" class="Button VoteButton VoteButton--up"><span style="display:inline-flex;align-items:center">​<svg width="10" height="10" viewBox="0 0 24 24" class="Zi Zi--TriangleUp VoteButton-TriangleUp" fill="currentColor"><path fill-rule="evenodd" d="M13.792 3.681c-.781-1.406-2.803-1.406-3.584 0l-7.79 14.023c-.76 1.367.228 3.046 1.791 3.046h15.582c1.563 0 2.55-1.68 1.791-3.046l-7.79-14.023Z" clip-rule="evenodd"></path></svg></span>赞同 7</button><button aria-label="反对" aria-live="polite" type="button" class="Button VoteButton VoteButton--down VoteButton--mobileDown"><span style="display:inline-flex;align-items:center">​<svg width="10" height="10" viewBox="0 0 24 24" class="Zi Zi--TriangleDown" fill="currentColor"><path fill-rule="evenodd" d="M13.792 20.319c-.781 1.406-2.803 1.406-3.584 0L2.418 6.296c-.76-1.367.228-3.046 1.791-3.046h15.582c1.563 0 2.55 1.68 1.791 3.046l-7.79 14.023Z" clip-rule="evenodd"></path></svg></span></button></span><button type="button" class="Button BottomActions-CommentBtn Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Comment Button-zi" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>添加评论</button><button type="button" class="Button Button--plain Button--withIcon Button--iconOnly undefined"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Star Button-zi" fill="currentColor"><path d="M10.484 3.307c.673-1.168 2.358-1.168 3.032 0l2.377 4.122a.25.25 0 0 0 .165.12l4.655.987c1.319.28 1.84 1.882.937 2.884l-3.186 3.535a.25.25 0 0 0-.063.193l.5 4.733c.142 1.34-1.222 2.33-2.453 1.782l-4.346-1.938a.25.25 0 0 0-.204 0l-4.346 1.938c-1.231.549-2.595-.442-2.453-1.782l.5-4.733a.25.25 0 0 0-.064-.193L2.35 11.42c-.903-1.002-.382-2.604.937-2.884l4.655-.987a.25.25 0 0 0 .164-.12l2.378-4.122Z"></path></svg></span></button><div class="Post-ActionMenuButton"><div class="Popover"><div id="Popover1-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover1-content"><button type="button" class="Button Button--plain Button--withIcon Button--iconOnly undefined"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Dots Button-zi" fill="currentColor"><path d="M5.34 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0ZM13.665 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0ZM21.99 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0Z"></path></svg></span></button></div></div></div></div></div><div class="Sticky--holder" style="position: static; inset: auto auto 0px 0px; display: block; float: none; margin: 0px 0px 10px; height: 54px;"></div></div></div></div></main><div role="complementary"><div class="CornerButtons"><div class="CornerAnimayedFlex CornerAnimayedFlex--hidden"><button data-tooltip="回到顶部" data-tooltip-position="left" data-tooltip-will-hide-on-click="true" aria-label="回到顶部" type="button" class="Button CornerButton Button--plain css-gdd4kf"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" class="Zi Zi--BackToTop" fill="currentColor"><path fill-rule="evenodd" d="M13.204 3.107a1.75 1.75 0 0 0-2.408 0L3.806 9.73c-1.148 1.088-.378 3.02 1.204 3.02h2.24V20c0 .966.784 1.75 1.75 1.75h6A1.75 1.75 0 0 0 16.75 20v-7.25h2.24c1.582 0 2.353-1.932 1.204-3.02l-6.99-6.623Z" clip-rule="evenodd"></path></svg></button></div></div></div></div></div><script id="js-clientConfig" type="text/json">{"fetchRoot":{"www":"https:\u002F\u002Fwww.zhihu.com","api":"https:\u002F\u002Fapi.zhihu.com","lens":"https:\u002F\u002Flens.zhihu.com","zhuanlan":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fapi\u002F","walletpay":"https:\u002F\u002Fwalletpay.zhihu.com","captcha":"https:\u002F\u002Fcaptcha.zhihu.com","vzuu":"https:\u002F\u002Fv.vzuu.com","openapi":"https:\u002F\u002Fopenapi.zhihu.com","svip":"https:\u002F\u002Fsvip.zhihu.com"},"host":"zhihu.com","protocol":"https:","wwwHost":"www.zhihu.com","videoHost":"video.zhihu.com","zhuanlanHost":"zhuanlan.zhihu.com","allowSignUp":true,"refreshValidityPeriod":"30","refreshLimit":"1","release":"574-45e06cad","currentEntry":"column","isMobileEntry":false,"apollo":{"env":"prod","globalSilence":"","topstory_rec_adp":"1","test_canary":"member|0-40,1-60"}}</script><script id="js-initialData" type="text/json">{"initialState":{"common":{"ask":{}},"loading":{"global":{"count":0},"local":{"env\u002FgetIpinfo\u002F":false,"article\u002Fget\u002F":false,"brand\u002FgetUrl\u002F":false,"article\u002FloadPostSearchEntity\u002F":false}},"entities":{"users":{"hansbug-35":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-510349e373c8aa017348dfa816c04381.jpg?source=172ae18b","uid":"1110415805031927808","userType":"people","isFollowing":false,"urlToken":"hansbug-35","id":"e55034d5a1d6445ffed744c5118c0aa2","description":"我思故我在，思想改变世界。\n博客：https:\u002F\u002Fwww.cnblogs.com\u002FHansBug\u002F","name":"HansBug","isAdvertiser":false,"headline":"INTP\u002FJ, just a mask, not me.","gender":1,"url":"\u002Fpeople\u002Fe55034d5a1d6445ffed744c5118c0aa2","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-510349e373c8aa017348dfa816c04381_l.jpg?source=172ae18b","isOrg":false,"type":"people","vipInfo":{"isVip":true,"vipIcon":{"url":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-4812630bc27d642f7cafcd6cdeca3d7a.jpg?source=88ceefae","nightModeUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-c9686ff064ea3579730756ac6c289978.jpg?source=88ceefae"}},"badge":[],"badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""},"exposedMedal":{"medalId":"1104437667143585792","medalName":"众裁官","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-19e523c65c7aa4074fb5430daaad295d_r.png?source=172ae18b","miniAvatarUrl":"https:\u002F\u002Fpica.zhimg.com\u002Fv2-19e523c65c7aa4074fb5430daaad295d_l.png?source=172ae18b","description":"完成 20 个众裁","medalAvatarFrame":""}}},"questions":{},"answers":{},"articles":{"501495148":{"trackUrl":["https:\u002F\u002Fsugar.zhihu.com\u002Fplutus_adreaper\u002Fcontent_monitor_log?si=__SESSIONID__&ti=__ATOKEN__&at=view&pf=__OS__&ed=BiBUKF0xBSkqGGJ-QhvjYHlDBQ==&idfa=__IDFA__&imei=__IMEI__&androidid=__ANDROIDID__&oaid=__OAID__&ci=__CREATIVEID__&zid=__ZONEID__"],"entityWords":[{"name":"matplotlib","mention":"matplotlib","matchorder":1,"begin":2731,"end":2741,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0,"attachedInfoBytes":"sgIzCgptYXRwbG90bGliEglDb21tb2RpdHkYqxUgtRUoATUAAAAAOgdhcnRpY2xlQABIAFIA","isOnAB":false,"isNatural":1,"isDelete":false},{"name":"random_rotation degrees","mention":"random_rotation degrees","matchorder":1,"begin":3689,"end":3712,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0,"attachedInfoBytes":"sgI+ChdyYW5kb21fcm90YXRpb24gZGVncmVlcxIHTWVkaWNhbBjpHCCAHSgBNQAAAAA6B2FydGljbGVAAEgAUgA=","isOnAB":false,"isNatural":1,"isDelete":false},{"name":"copies","mention":"copies","matchorder":1,"begin":11619,"end":11625,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0,"attachedInfoBytes":"sgItCgZjb3BpZXMSB01lZGljYWwY41og6VooATUAAAAAOgdhcnRpY2xlQABIAFIA","isOnAB":false,"isNatural":1,"isDelete":false}],"id":501495148,"title":"设计杂谈(0x01)——配置文件的起源与矛盾","type":"article","articleType":"normal","excerptTitle":"","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F501495148","imageUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-1cf5c5c8963fda476804a914abfd0c34_720w.jpg?source=172ae18b","titleImage":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-1cf5c5c8963fda476804a914abfd0c34_720w.jpg?source=172ae18b","excerpt":"\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-953117aa091881e353c8b663b5272e70_200x112.jpg\" data-caption=\"运行结果，左图为原图，右图为转换后的图\" data-size=\"normal\" data-rawwidth=\"971\" data-rawheight=\"338\" data-watermark=\"watermark\" data-original-src=\"v2-953117aa091881e353c8b663b5272e70\" data-watermark-src=\"v2-29f83446d5690e81c95b70573fba31e9\" data-private-watermark-src=\"\" class=\"origin_image inline-img zh-lightbox-thumb\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-953117aa091881e353c8b663b5272e70_r.jpg\"\u002F\u003E在“设计杂谈”系列，主要会讲述设计相关的问题与思考。本文将主要针对配置的起源与实际面对的问题进行必要的讲述，以求为读者建立一个初步的概念。 话不多说，开始。 由静态到动态首先，我们来看这样一个需求： 设计一个程序，输入一个图片，并将其进行一…","created":1650421528,"updated":1657614642,"author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-510349e373c8aa017348dfa816c04381.jpg?source=172ae18b","uid":"1110415805031927808","userType":"people","isFollowing":false,"urlToken":"hansbug-35","id":"e55034d5a1d6445ffed744c5118c0aa2","description":"我思故我在，思想改变世界。\n博客：https:\u002F\u002Fwww.cnblogs.com\u002FHansBug\u002F","name":"HansBug","isAdvertiser":false,"headline":"INTP\u002FJ, just a mask, not me.","gender":1,"url":"\u002Fpeople\u002Fe55034d5a1d6445ffed744c5118c0aa2","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-510349e373c8aa017348dfa816c04381_l.jpg?source=172ae18b","isOrg":false,"type":"people","vipInfo":{"isVip":true,"vipIcon":{"url":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-4812630bc27d642f7cafcd6cdeca3d7a.jpg?source=88ceefae","nightModeUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-c9686ff064ea3579730756ac6c289978.jpg?source=88ceefae"}},"badge":[],"badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""},"exposedMedal":{"medalId":"1104437667143585792","medalName":"众裁官","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-19e523c65c7aa4074fb5430daaad295d_r.png?source=172ae18b","miniAvatarUrl":"https:\u002F\u002Fpica.zhimg.com\u002Fv2-19e523c65c7aa4074fb5430daaad295d_l.png?source=172ae18b","description":"完成 20 个众裁","medalAvatarFrame":""}},"commentPermission":"all","copyrightPermission":"need_review","state":"published","ipInfo":"","imageWidth":7680,"imageHeight":4320,"content":"\u003Cp data-pid=\"ZAR1fGWT\"\u003E在“设计杂谈”系列，主要会讲述设计相关的问题与思考。本文将主要针对配置的起源与实际面对的问题进行必要的讲述，以求为读者建立一个初步的概念。\u003C\u002Fp\u003E\u003Cp data-pid=\"-qRNg1zE\"\u003E话不多说，开始。\u003C\u002Fp\u003E\u003Ch2\u003E由静态到动态\u003C\u002Fh2\u003E\u003Cp data-pid=\"uywxXIB1\"\u003E首先，我们来看这样一个需求：\u003C\u002Fp\u003E\u003Cblockquote data-pid=\"ht3ubSQm\"\u003E 设计一个程序，输入一个图片，并将其进行一系列处理，其中包括：\u003Cbr\u002F\u003E 1、翻转（flip） 2、旋转（rotate） 3、裁剪（crop）  \u003C\u002Fblockquote\u003E\u003Cp data-pid=\"4j7tBqhq\"\u003E很简单对吧，那不妨先脑洞一波，来看看一般的做法会是怎样的。\u003C\u002Fp\u003E\u003Ch3\u003E写脚本时的硬编码\u003C\u002Fh3\u003E\u003Cp data-pid=\"hiEWoPa0\"\u003E首先，我们来看看一种最简单的情况。比如，现在需要把一个或者一批图片，\u003Cb\u003E按照既定的操作来进行处理\u003C\u002Fb\u003E。你打算写一个脚本来完成这项工作，使用\u003Ccode\u003EPIL\u003C\u002Fcode\u003E包进行处理，大概会是这样的一个画风\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"kn\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003EPIL\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eopen\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E&#39;test_pic.png&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Enew_image\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E# flip operation, left_right or top_bottom\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Enew_image\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Enew_image\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etranspose\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EFLIP_TOP_BOTTOM\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E# rotate, 0-360, from x-axis to y-axis\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Enew_image\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Enew_image\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Erotate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E45\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E# crop, x1, y1, x2, y2\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Ewidth\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eheight\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Enew_image\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Esize\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Enew_image\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Enew_image\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecrop\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E((\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ewidth\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E\u002F\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eheight\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E\u002F\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ewidth\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E\u002F\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eheight\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E\u002F\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"jVw9fLCe\"\u003E而运行结果则是这样的（此处使用\u003Ccode\u003Ematplotlib\u003C\u002Fcode\u003E展示图片，下文同）\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-29f83446d5690e81c95b70573fba31e9_b.jpg\" data-size=\"normal\" data-rawwidth=\"971\" data-rawheight=\"338\" class=\"origin_image zh-lightbox-thumb\" width=\"971\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-29f83446d5690e81c95b70573fba31e9_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;971&#39; height=&#39;338&#39;&gt;&lt;\u002Fsvg&gt;\" data-size=\"normal\" data-rawwidth=\"971\" data-rawheight=\"338\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"971\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-29f83446d5690e81c95b70573fba31e9_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-29f83446d5690e81c95b70573fba31e9_b.jpg\"\u002F\u003E\u003Cfigcaption\u003E运行结果，左图为原图，右图为转换后的图\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"dRxBi_5E\"\u003E既定的效果实现了，效果十分令人满意，一切都没啥问题。\u003C\u002Fp\u003E\u003Ch3\u003E写轮子时的函数化\u003C\u002Fh3\u003E\u003Cp data-pid=\"-m96QWU5\"\u003E而接下来，由于这个脚本在越来越多的地方被用到，所以\u003Cb\u003E需要将其进行一个封装\u003C\u002Fb\u003E，使之不再依赖于特定的图片，也不再依赖于固定的流程，\u003Cb\u003E可以被任意调用\u003C\u002Fb\u003E以实现图片的处理。\u003C\u002Fp\u003E\u003Cp data-pid=\"DIyyfrqe\"\u003E一番思索后，你进行了封装，于是画风变成了这个样子\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"kn\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003EPIL\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\n\n\n\n\u003Cspan class=\"k\"\u003Edef\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eprocesses\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eops\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Ecur_image\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eop\u003C\u002Fspan\u003E \u003Cspan class=\"ow\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eops\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Eop_type\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eop_vals\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eop\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eop_type\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E&#39;flip&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Ecur_image\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecur_image\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etranspose\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eop_vals\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eelif\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eop_type\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E&#39;rotate&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Ecur_image\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecur_image\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Erotate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eop_vals\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eelif\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eop_type\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E&#39;crop&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Ecur_image\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecur_image\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecrop\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eop_vals\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n            \u003Cspan class=\"k\"\u003Eraise\u003C\u002Fspan\u003E \u003Cspan class=\"ne\"\u003EValueError\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ef\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E&#39;Unknown operation - {repr(op_type)}.&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecur_image\u003C\u002Fspan\u003E\n\n\n\n\u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"vm\"\u003E__name__\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E&#39;__main__&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eimage_\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eopen\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E&#39;test_pic.png&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Ewidth\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eheight\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimage_\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Esize\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Enew_image\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eprocesses\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Eimage_\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E&#39;flip&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EImage\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EFLIP_TOP_BOTTOM\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E&#39;rotate&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E45\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E\n            \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E&#39;crop&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ewidth\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E\u002F\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eheight\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E\u002F\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ewidth\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E\u002F\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eheight\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E\u002F\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E),\u003C\u002Fspan\u003E\n        \u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"_KD32byE\"\u003E直接运行时，可以获得和之前程序等价的效果。此后，对图片的三种操作正式被封装为了轮子，并在项目中被广泛使用。\u003C\u002Fp\u003E\u003Ch3\u003E写工具时的配置化\u003C\u002Fh3\u003E\u003Cp data-pid=\"Ikda11WN\"\u003E然而没过多久，随着处理过程的越发复杂，又开始有了新的需求。具体来说，你希望可以以一种更加黑盒的形态来对图片进行处理，并且考虑到\u003Cb\u003E很多时候处理的流程都是相对固定的\u003C\u002Fb\u003E，因此如果对图片进行处理时可以不必编写Python源代码那才是最好的。\u003C\u002Fp\u003E\u003Cp data-pid=\"tsUzBfcP\"\u003E你思来想去，决定使用yaml这样的“配置文件”，来表达图片处理的流程逻辑。结合之前的函数化轮子，再一次封装后，画风又变了。首先是配置文件\u003Ccode\u003Econfig.yaml\u003C\u002Fcode\u003E ，如下所示\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-yaml\"\u003E\u003Cspan class=\"nt\"\u003Eprocesses\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E  \u003C\u002Fspan\u003E- \u003Cspan class=\"nt\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"l\"\u003Eflip\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Edirection\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"l\"\u003Etop_bottom\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E  \u003C\u002Fspan\u003E- \u003Cspan class=\"nt\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"l\"\u003Erotate\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Eangle\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"m\"\u003E45\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E  \u003C\u002Fspan\u003E- \u003Cspan class=\"nt\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"l\"\u003Ecrop\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Ex1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"m\"\u003E100\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Ey1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"m\"\u003E100\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Ex2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"m\"\u003E500\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Ey2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"m\"\u003E500\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"_i1YMtqf\"\u003E即呈现这样的结构\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-14f9da10a492fcd5f98a04baa45526bb_b.jpg\" data-size=\"normal\" data-rawwidth=\"404\" data-rawheight=\"240\" class=\"content_image\" width=\"404\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;404&#39; height=&#39;240&#39;&gt;&lt;\u002Fsvg&gt;\" data-size=\"normal\" data-rawwidth=\"404\" data-rawheight=\"240\" class=\"content_image lazy\" width=\"404\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-14f9da10a492fcd5f98a04baa45526bb_b.jpg\"\u002F\u003E\u003Cfigcaption\u003Econfig.yaml呈现的层次结构\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"axGe4lGx\"\u003E而后运行命令（该脚本已经经过重构，此处由于并非问题重点，因而不作详细展示）\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Epython process.py config.yaml test_pic.png\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"pmPj716k\"\u003E也同样得到了上述的结果，并且这一过程中对于使用者而言，并无需关注\u003Ccode\u003Eprocess.py\u003C\u002Fcode\u003E的具体内容。\u003C\u002Fp\u003E\u003Ch2\u003E配置文件\u003C\u002Fh2\u003E\u003Ch3\u003E基本特性\u003C\u002Fh3\u003E\u003Cp data-pid=\"CM2p-yBN\"\u003E诸如上面的“故事”，相比各位都非常熟悉，常做开发的人应该都会日常遇到。当一个业务逻辑需要往通用化方向发展时，就会产生“轮子”这一形态；而\u003Cb\u003E当“轮子”需要被进一步黑盒化、工具化时，则需要引入“配置”这一概念\u003C\u002Fb\u003E，也就是上面所使用的\u003Ccode\u003Econfig.yaml\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\u003Cp data-pid=\"04kvOiBF\"\u003E对于“配置文件”，稍作观察不难发现其特性：\u003C\u002Fp\u003E\u003Col\u003E\u003Cli data-pid=\"UmnmVUVI\"\u003E多为\u003Cb\u003E树状结构\u003C\u002Fb\u003E（JSON、YAML、conf等均是如此）\u003C\u002Fli\u003E\u003Cli data-pid=\"V3H9-KFV\"\u003E表达\u003Cb\u003E唯一且明确的语义\u003C\u002Fb\u003E（即配置本身不该含有歧义）\u003C\u002Fli\u003E\u003Cli data-pid=\"OClVB7LC\"\u003E可移植，\u003Cb\u003E不依赖具体的语言或环境\u003C\u002Fb\u003E（并无绝对界限，能满足实际需要即可）\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Ch3\u003E现实存在的问题\u003C\u002Fh3\u003E\u003Cp data-pid=\"50u8bxoW\"\u003E针对上述的第1和第2点，我们可以推测出以下的事实：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"-K1yZ6le\"\u003E意味着其经常需要处理多层次的配置数据，表达\u003Cb\u003E嵌套的语义\u003C\u002Fb\u003E。\u003C\u002Fli\u003E\u003Cli data-pid=\"bgK_cSb7\"\u003E意味着配置需要能精确表达其语义，展示其所有信息以\u003Cb\u003E确保对配置解析器而言能解读出唯一含义\u003C\u002Fb\u003E。 这样一来，在配置的设计上就会存在一个不可避免的问题——\u003Cb\u003E绝对完备且嵌套的语义，必然导致配置文件可能变得极为冗长\u003C\u002Fb\u003E。例如上述的图片处理，如果处理的\u003Cb\u003E阶段再多上一些\u003C\u002Fb\u003E，尤其是剪裁（crop）操作要是较多的话，则可以形成一个\u003Cb\u003E极长无比\u003C\u002Fb\u003E的配置文件。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"cPYcPGjT\"\u003E也许你可能还是对配置的复杂性没有概念，那么容我们再看一个更复杂些的例子\u003C\u002Fp\u003E\u003Ch3\u003E更复杂的例子\u003C\u002Fh3\u003E\u003Cp data-pid=\"K-wbejPL\"\u003E其实说不复杂也不复杂，就是上面图片处理的plus版。更具体来说，就是对一系列的图片，进行带有一定随机性的处理。这个操作常应用于深度学习领域，被称为\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FData_augmentation\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E数据增强\u003C\u002Fa\u003E（Data Augmentation），定义如下：\u003C\u002Fp\u003E\u003Cblockquote data-pid=\"ervkBFgI\"\u003E Data augmentation in data analysis are techniques used to \u003Cb\u003Eincrease the amount of data\u003C\u002Fb\u003E by \u003Cb\u003Eadding slightly modified copies\u003C\u002Fb\u003E of already existing data or newly created synthetic data from existing data. It acts as a regularizer and\u003Cb\u003Ehelps reduce overfitting\u003C\u002Fb\u003E when training a machine learning model. \u003C\u002Fblockquote\u003E\u003Cp data-pid=\"l5TBG6Iu\"\u003E举个例子，你需要训练一个用于识别“手掌”图片的模型，然而你收集到的数据大都是左手，就像这样的\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-59f6157362267549dd40f8ed6714813f_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"728\" data-rawheight=\"546\" class=\"origin_image zh-lightbox-thumb\" width=\"728\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-59f6157362267549dd40f8ed6714813f_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;728&#39; height=&#39;546&#39;&gt;&lt;\u002Fsvg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"728\" data-rawheight=\"546\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"728\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-59f6157362267549dd40f8ed6714813f_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-59f6157362267549dd40f8ed6714813f_b.jpg\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"hI5K9wkk\"\u003E训练过模型的都知道，如果直接将这样的数据作为训练集，则很可能会出现\u003Cb\u003E针对“左手”的过拟合\u003C\u002Fb\u003E情况，通俗来说，就是会让模型\u003Cb\u003E只认识左手，而不认识右手\u003C\u002Fb\u003E。\u003C\u002Fp\u003E\u003Cp data-pid=\"fQd-1Vpk\"\u003E而为了解决这一问题，我们需要对原本的图片数据进行“增强”，也就是\u003Cb\u003E随机转换生成一些新的数据\u003C\u002Fb\u003E，其中比较常见的四种转换分别为（均基于\u003Ccode\u003Etorchvision\u003C\u002Fcode\u003E）：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"jvSle21z\"\u003E一定概率进行水平翻转（\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fpytorch.org\u002Fvision\u002F0.9\u002Ftransforms.html%23torchvision.transforms.RandomHorizontalFlip\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ERandomHorizontalFlip\u003C\u002Fa\u003E）\u003C\u002Fli\u003E\u003Cli data-pid=\"xFtU8Rvr\"\u003E一定概率进行竖直翻转（\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fpytorch.org\u002Fvision\u002F0.9\u002Ftransforms.html%23torchvision.transforms.RandomVerticalFlip\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ERandomVerticalFlip\u003C\u002Fa\u003E）\u003C\u002Fli\u003E\u003Cli data-pid=\"nVO5XTsZ\"\u003E随机旋转一定角度（\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fpytorch.org\u002Fvision\u002F0.9\u002Ftransforms.html%23torchvision.transforms.RandomRotation\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ERandomRotation\u003C\u002Fa\u003E）\u003C\u002Fli\u003E\u003Cli data-pid=\"cnK8f_OO\"\u003E随机裁剪一定尺寸（\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fpytorch.org\u002Fvision\u002F0.9\u002Ftransforms.html%23torchvision.transforms.RandomCrop\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ERandomCrop\u003C\u002Fa\u003E）\u003C\u002Fli\u003E\u003Cli data-pid=\"Bpnni1LO\"\u003E随机改变一定色调（\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fpytorch.org\u002Fvision\u002Fstable\u002Fgenerated\u002Ftorchvision.transforms.ColorJitter.html%23torchvision.transforms.ColorJitter\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EColorJitter\u003C\u002Fa\u003E） \u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"fjZ303Pc\"\u003E例如，对于上面那只左手，可以经过一系列随机转换后，形成如下的效果\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-61f0e88dd51d592170262ff57a39a440_b.jpg\" data-size=\"normal\" data-rawwidth=\"849\" data-rawheight=\"708\" class=\"origin_image zh-lightbox-thumb\" width=\"849\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-61f0e88dd51d592170262ff57a39a440_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;849&#39; height=&#39;708&#39;&gt;&lt;\u002Fsvg&gt;\" data-size=\"normal\" data-rawwidth=\"849\" data-rawheight=\"708\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"849\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-61f0e88dd51d592170262ff57a39a440_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-61f0e88dd51d592170262ff57a39a440_b.jpg\"\u002F\u003E\u003Cfigcaption\u003E左上图为原图，其余八张图为转换后的结果\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"WMRWdhAt\"\u003E有了这些数据，则可以很大程度上解决掉“无法识别右手”的情况，也大概不怎么会再因为光线之类的问题而导致识别出错了。\u003C\u002Fp\u003E\u003Cp data-pid=\"a-vlQZum\"\u003E交代了完了这个问题，如果我们也需要将“数据增强”这一过程，封装为与上文类似的配置形态，则会变得极为复杂且混乱。比如，我们来随便挑一个配置看看，下面这个是\u003Ccode\u003ERandomCrop\u003C\u002Fcode\u003E的输入数据格式（\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fpytorch.org\u002Fvision\u002F0.9\u002Ftransforms.html%23torchvision.transforms.RandomCrop\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E完整版在此\u003C\u002Fa\u003E）\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-0a205dadf30d8fdd3df828ab234eb805_b.jpg\" data-size=\"normal\" data-rawwidth=\"1111\" data-rawheight=\"828\" class=\"origin_image zh-lightbox-thumb\" width=\"1111\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-0a205dadf30d8fdd3df828ab234eb805_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1111&#39; height=&#39;828&#39;&gt;&lt;\u002Fsvg&gt;\" data-size=\"normal\" data-rawwidth=\"1111\" data-rawheight=\"828\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1111\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-0a205dadf30d8fdd3df828ab234eb805_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-0a205dadf30d8fdd3df828ab234eb805_b.jpg\"\u002F\u003E\u003Cfigcaption\u003Etorchvision.transforms.RandomCrop官方文档截图\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"cUhobw6f\"\u003E一共五个参数，其中有三个是带有结构化数据的。而与之类似的还有\u003Ccode\u003ERandomRotation\u003C\u002Fcode\u003E，相比之下\u003Ccode\u003ERandomVerticalFlip\u003C\u002Fcode\u003E和\u003Ccode\u003ERandomHorizontalFlip\u003C\u002Fcode\u003E要简单不少。\u003C\u002Fp\u003E\u003Cp data-pid=\"RWzHmnyD\"\u003E我们可以尝试用YAML格式写一下由上述四类增强转换组合形成的流水线，画风则很可能是这样的\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-yaml\"\u003E\u003Cspan class=\"nt\"\u003Eprocesses\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E  \u003C\u002Fspan\u003E- \u003Cspan class=\"nt\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"l\"\u003Erandom_vertial_flip\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Ep\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"m\"\u003E0.5\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E  \u003C\u002Fspan\u003E- \u003Cspan class=\"nt\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"l\"\u003Erandom_horizontal_flip\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Ep\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"m\"\u003E0.5\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E  \u003C\u002Fspan\u003E- \u003Cspan class=\"nt\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"l\"\u003Erandom_rotation\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Edegrees\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- -\u003Cspan class=\"m\"\u003E180\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- \u003Cspan class=\"m\"\u003E180\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Einterpolation\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"l\"\u003Enearest\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Eexpand\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Ecenter\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- \u003Cspan class=\"m\"\u003E100\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- \u003Cspan class=\"m\"\u003E100\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Efill\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"m\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E  \u003C\u002Fspan\u003E- \u003Cspan class=\"nt\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"l\"\u003Erandom_crop\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Esize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- \u003Cspan class=\"m\"\u003E300\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- \u003Cspan class=\"m\"\u003E300\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Epadding\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- \u003Cspan class=\"m\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- \u003Cspan class=\"m\"\u003E5\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Epad_if_needed\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"kc\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Efill\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- \u003Cspan class=\"m\"\u003E255\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- \u003Cspan class=\"m\"\u003E128\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E      \u003C\u002Fspan\u003E- \u003Cspan class=\"m\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E    \u003C\u002Fspan\u003E\u003Cspan class=\"nt\"\u003Epadding_mode\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E \u003C\u002Fspan\u003E\u003Cspan class=\"l\"\u003Econstant\u003C\u002Fspan\u003E\u003Cspan class=\"w\"\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"HY5n0ED8\"\u003E即呈现这样的结构\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-b6bfde1eeefb82cf204503eaef7a9506_b.jpg\" data-size=\"normal\" data-rawwidth=\"546\" data-rawheight=\"446\" class=\"origin_image zh-lightbox-thumb\" width=\"546\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-b6bfde1eeefb82cf204503eaef7a9506_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;546&#39; height=&#39;446&#39;&gt;&lt;\u002Fsvg&gt;\" data-size=\"normal\" data-rawwidth=\"546\" data-rawheight=\"446\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"546\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-b6bfde1eeefb82cf204503eaef7a9506_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-b6bfde1eeefb82cf204503eaef7a9506_b.jpg\"\u002F\u003E\u003Cfigcaption\u003E包含四种转换组合的配置文件层次结构\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"ITUEFNeU\"\u003E这还仅仅只是每种类型仅添加了一次，如果次数更多的话，结构还会更加复杂。不仅如此，序列形式的结构化数据在树状结构的配置文件中的表意也并不足够清晰。\u003C\u002Fp\u003E\u003Ch3\u003E设计上的矛盾点\u003C\u002Fh3\u003E\u003Cp data-pid=\"kT8pF1jC\"\u003E\u003Cb\u003E以上的问题，在配置文件的实际使用中是广泛存在的\u003C\u002Fb\u003E，而且由于实际应用中还会涉及到多模块，以及多种不同的结构化数据格式，因此还可能存在更加冗长的内容，以及层数更深的嵌套。\u003C\u002Fp\u003E\u003Cp data-pid=\"MqiPVkQS\"\u003E而这个问题实际上\u003Cb\u003E根源在于配置灵活性和易用性的矛盾\u003C\u002Fb\u003E。例如，在上述数据增强的例子中，\u003Ccode\u003ERandomCrop\u003C\u002Fcode\u003E和\u003Ccode\u003ERandomRotation\u003C\u002Fcode\u003E均有较多的参数，但是\u003Cb\u003E实际应用中\u003C\u002Fb\u003E会被使用的只是\u003Cb\u003E一少部分\u003C\u002Fb\u003E。而若要\u003Cb\u003E覆盖\u003C\u002Fb\u003E此类操作的\u003Cb\u003E全部潜在功能\u003C\u002Fb\u003E，则又必须设立如此复杂的各类参数。于是矛盾就是这样形成的。这也正是为什么\u003Cb\u003E常见的配置文件往往都比较冗长\u003C\u002Fb\u003E的原因。\u003C\u002Fp\u003E\u003Cp data-pid=\"Ogjz7grK\"\u003E鉴于这样的情况，为了更好地设计配置文件格式，使之便于编写和查阅，则是一个值得讨论的问题。实际上，在设计领域已经有比较成功的实践，且适合于配置文件的设计，这便是——\u003Cb\u003E“约定大于配置”\u003C\u002Fb\u003E原则。具体内容，将在下一篇中作详细讨论，敬请期待。\u003C\u002Fp\u003E","adminClosedComment":false,"topics":[{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19557552","type":"topic","id":"19557552","name":"软件工程"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19559450","type":"topic","id":"19559450","name":"机器学习"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19580349","type":"topic","id":"19580349","name":"计算机科学"}],"voteupCount":7,"voting":0,"heavyUpStatus":"allow_heavy_up","column":{"description":"","canManage":false,"intro":"讲讲代码设计的那点事","isFollowing":false,"urlToken":"c_1499907967020982273","id":"c_1499907967020982273","articlesCount":2,"acceptSubmission":false,"title":"设计杂谈","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fc_1499907967020982273","commentPermission":"all","created":1650385926,"updated":1650385926,"imageUrl":"https:\u002F\u002Fpica.zhimg.com\u002F4b70deef7_720w.jpg?source=172ae18b","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-510349e373c8aa017348dfa816c04381.jpg?source=172ae18b","uid":"1110415805031927808","userType":"people","isFollowing":false,"urlToken":"hansbug-35","id":"e55034d5a1d6445ffed744c5118c0aa2","description":"我思故我在，思想改变世界。\n博客：https:\u002F\u002Fwww.cnblogs.com\u002FHansBug\u002F","name":"HansBug","isAdvertiser":false,"headline":"INTP\u002FJ, just a mask, not me.","gender":1,"url":"\u002Fpeople\u002Fe55034d5a1d6445ffed744c5118c0aa2","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-510349e373c8aa017348dfa816c04381_l.jpg?source=172ae18b","isOrg":false,"type":"people"},"followers":0,"type":"column"},"commentCount":0,"contributions":[{"id":39181167,"state":"accepted","type":"first_publish","column":{"description":"","canManage":false,"intro":"讲讲代码设计的那点事","isFollowing":false,"urlToken":"c_1499907967020982273","id":"c_1499907967020982273","articlesCount":2,"acceptSubmission":false,"title":"设计杂谈","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fc_1499907967020982273","commentPermission":"all","created":1650385926,"updated":1650385926,"imageUrl":"https:\u002F\u002Fpica.zhimg.com\u002F4b70deef7_720w.jpg?source=172ae18b","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-510349e373c8aa017348dfa816c04381.jpg?source=172ae18b","uid":"1110415805031927808","userType":"people","isFollowing":false,"urlToken":"hansbug-35","id":"e55034d5a1d6445ffed744c5118c0aa2","description":"我思故我在，思想改变世界。\n博客：https:\u002F\u002Fwww.cnblogs.com\u002FHansBug\u002F","name":"HansBug","isAdvertiser":false,"headline":"INTP\u002FJ, just a mask, not me.","gender":1,"url":"\u002Fpeople\u002Fe55034d5a1d6445ffed744c5118c0aa2","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-510349e373c8aa017348dfa816c04381_l.jpg?source=172ae18b","isOrg":false,"type":"people"},"followers":0,"type":"column"}}],"isTitleImageFullScreen":false,"upvotedFollowees":[],"commercialInfo":{"isCommercial":false,"plugin":{}},"suggestEdit":{"status":false,"reason":"","tip":"","url":"","title":""},"reason":"","annotationAction":[],"canTip":false,"tipjarorsCount":0,"isLabeled":false,"hasPublishingDraft":false,"isFavorited":false,"favlistsCount":0,"isNormal":true,"status":0,"shareText":"设计杂谈(0x01)——配置文件的起源与矛盾 - 来自知乎专栏「设计杂谈」，作者: HansBug https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F501495148 （想看更多？下载 @知乎 App：http:\u002F\u002Fweibo.com\u002Fp\u002F100404711598 ）","canComment":{"status":true,"reason":""},"mcnFpShow":-1,"isVisible":true,"isLiked":false,"likedCount":1,"hasColumn":true,"republishers":[],"isNewLinkCard":true,"emojiReaction":{"cryFaceCount":0,"cryFaceHasSet":false,"hugCount":0,"hugHasSet":false,"likeCount":1,"likeHasSet":false,"onlookerCount":0,"onlookerHasSet":false},"abParam":{"qaHiddenVoteup":"0"},"attachedInfo":"kgIkCgkxOTk1NzUyMjkSCTUwMTQ5NTE0OBgHIgpJTUFHRV9URVhU","settings":{"tableOfContents":{"enabled":true}},"canReference":false,"reactionInstruction":{}}},"columns":{"c_1499907967020982273":{"description":"","canManage":false,"intro":"讲讲代码设计的那点事","isFollowing":false,"urlToken":"c_1499907967020982273","id":"c_1499907967020982273","articlesCount":2,"acceptSubmission":false,"title":"设计杂谈","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fc_1499907967020982273","commentPermission":"all","created":1650385926,"updated":1650385926,"imageUrl":"https:\u002F\u002Fpica.zhimg.com\u002F4b70deef7_720w.jpg?source=172ae18b","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-510349e373c8aa017348dfa816c04381.jpg?source=172ae18b","uid":"1110415805031927808","userType":"people","isFollowing":false,"urlToken":"hansbug-35","id":"e55034d5a1d6445ffed744c5118c0aa2","description":"我思故我在，思想改变世界。\n博客：https:\u002F\u002Fwww.cnblogs.com\u002FHansBug\u002F","name":"HansBug","isAdvertiser":false,"headline":"INTP\u002FJ, just a mask, not me.","gender":1,"url":"\u002Fpeople\u002Fe55034d5a1d6445ffed744c5118c0aa2","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-510349e373c8aa017348dfa816c04381_l.jpg?source=172ae18b","isOrg":false,"type":"people"},"followers":0,"type":"column"}},"topics":{},"roundtables":{},"favlists":{},"comments":{},"notifications":{},"ebooks":{},"activities":{},"feeds":{},"pins":{},"promotions":{},"drafts":{},"chats":{},"posts":{},"clubs":{},"clubTags":{},"zvideos":{},"zvideoContributions":{},"briefs":{},"eduCourses":{}},"currentUser":"","account":{"lockLevel":{},"unlockTicketStatus":false,"unlockTicket":null,"challenge":[],"errorStatus":false,"message":"","isFetching":false,"accountInfo":{},"urlToken":{"loading":false},"cardUserInfo":{"vipInfo":{}},"handleWidget":{},"widgetList":[],"userWidgetId":""},"settings":{"socialBind":null,"inboxMsg":null,"notification":{},"email":{},"privacyFlag":null,"blockedUsers":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"blockedFollowees":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"ignoredTopics":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"restrictedTopics":null,"laboratory":{}},"notification":{},"people":{"profileStatus":{},"activitiesByUser":{},"answersByUser":{},"answersSortByVotesByUser":{},"answersIncludedByUser":{},"votedAnswersByUser":{},"thankedAnswersByUser":{},"voteAnswersByUser":{},"thankAnswersByUser":{},"topicAnswersByUser":{},"zvideosByUser":{},"articlesByUser":{},"articlesSortByVotesByUser":{},"articlesIncludedByUser":{},"pinsByUser":{},"questionsByUser":{},"commercialQuestionsByUser":{},"favlistsByUser":{},"followingByUser":{},"followersByUser":{},"mutualsByUser":{},"followingColumnsByUser":{},"followingQuestionsByUser":{},"followingFavlistsByUser":{},"followingTopicsByUser":{},"publicationsByUser":{},"columnsByUser":{},"allFavlistsByUser":{},"brands":null,"creationsByUser":{},"creationsSortByVotesByUser":{},"creationsFeed":{},"infinity":{},"batchUsers":{},"profileInfinity":null},"env":{"ab":{"config":{"params":[{"id":"pc_ppt_publish","type":"Int","value":"0","layerId":"pc_ppt_publish"},{"id":"pinvideo","type":"Int","value":"1","layerId":"pinvideo"},{"id":"player_vendors","type":"Int","value":"0","layerId":"player_vendors"},{"id":"ks_prefetch","type":"Int","value":"1","layerId":"ks_prefetch"},{"id":"pc_player_hevc","type":"Int","value":"1","layerId":"pc_player_hevc"},{"id":"update_react","type":"Int","value":"1","layerId":"update_react"}],"experiments":[{"expId":"ks_prefetch-2_v7","expPrefix":"ks_prefetch","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"pc_player_hevc-2_v4","expPrefix":"pc_player_hevc","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false},{"expId":"update_react-2_v39","expPrefix":"update_react","isDynamicallyUpdated":false,"isRuntime":false,"includeTriggerInfo":false}],"chains":[{"chainId":"_all_"}],"encodedParams":"ClIbAD8ARwC0AGkBagF0ATsCzALXAtgCtwPWBBEFUQWLBYwFngUxBusGJwd0CHkIYAn0CUkKawq+CkMLcQuHC40L1wvgC+UL5gtxDI8MrAzDDPgMEikAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAA=="},"triggers":{}},"abV2":{"config":{"paramMap":{"ws_invite":{"value":"0"},"in_editor_title":{"value":"0"},"ws_pc_route":{"value":"0"},"ws_rec":{"value":"0"}},"abMap":{}},"triggers":{}},"userAgent":{"Edge":false,"IE":false,"Wechat":false,"Weibo":false,"QQ":false,"MQQBrowser":false,"Qzone":false,"Mobile":false,"Android":false,"iOS":true,"isAppleDevice":true,"Zhihu":false,"ZhihuHybrid":false,"isBot":false,"Tablet":false,"UC":false,"Quark":false,"Sogou":false,"Qihoo":false,"Baidu":false,"BaiduApp":false,"Safari":false,"GoogleBot":false,"AndroidDaily":false,"iOSDaily":false,"WxMiniProgram":false,"BaiduMiniProgram":false,"QQMiniProgram":false,"JDMiniProgram":false,"isWebView":false,"isMiniProgram":false,"origin":"PixivIOSApp\u002F7.13.3 (iOS 14.6; iPhone13,2)"},"appViewConfig":{},"ctx":{"path":"\u002Fp\u002F501495148","query":{"ssr_src":"heifetz"},"href":"http:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F501495148?ssr_src=heifetz","host":"zhuanlan.zhihu.com"},"trafficSource":"production","edition":{"beijing":false,"baidu":false,"sogou":false,"baiduBeijing":false,"sogouBeijing":false,"sogouInput":false,"oppoSearch":false,"baiduSearch":false,"googleSearch":false,"shenma":false,"miniProgram":false,"xiaomi":false},"theme":"light","appHeaderTheme":{"current":"normal","disable":true,"normal":{"bgColor":"GBK99A"},"custom":{"bgColor":"GBK99A"}},"enableShortcut":true,"referer":"","xUDId":"","mode":"ssr","conf":{},"xTrafficFreeOrigin":"","ipInfo":{"cityName":"","countryName":"美国","regionName":"美国","countryCode":"US"},"logged":false,"vars":{"passThroughHeaders":{}}},"me":{"columnContributions":[]},"label":{"recognizerLists":{}},"ecommerce":{},"comments":{"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"parent":{}},"commentsV2":{"stickers":[],"commentWithPicPermission":{},"notificationsComments":{},"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"conversationMore":{},"parent":{}},"pushNotifications":{"default":{"isFetching":false,"isDrained":false,"ids":[]},"follow":{"isFetching":false,"isDrained":false,"ids":[]},"vote_thank":{"isFetching":false,"isDrained":false,"ids":[]},"currentTab":"default","notificationsCount":{"default":0,"follow":0,"vote_thank":0}},"messages":{"data":{},"currentTab":"common","messageCount":0},"register":{"registerValidateSucceeded":null,"registerValidateErrors":{},"registerConfirmError":null,"sendDigitsError":null,"registerConfirmSucceeded":null},"login":{"loginUnregisteredError":false,"loginBindWechatError":false,"loginConfirmError":null,"sendDigitsError":null,"needSMSIdentify":false,"validateDigitsError":false,"loginConfirmSucceeded":null,"qrcodeLoginToken":"","qrcodeLoginScanStatus":0,"qrcodeLoginError":null,"qrcodeLoginReturnNewToken":false},"switches":{},"captcha":{"captchaNeeded":false,"captchaValidated":false},"sms":{"supportedCountries":[]},"chat":{"chats":{},"inbox":{"recents":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"strangers":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"friends":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"search":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"config":{"newCount":0,"strangerMessageSwitch":false,"strangerMessageUnread":false,"friendCount":0}},"global":{"isChatMqttExisted":false}},"emoticons":{"emoticonGroupList":[],"emoticonGroupDetail":{}},"creator":{"tools":{"question":{"invitationCount":{"questionFolloweeCount":0,"questionTotalCount":0}},"customPromotion":{"itemLists":{}},"recommend":{"recommendTimes":{}}},"explore":{},"rightsStatus":{},"levelUpperLimit":10,"mcn":{},"videoSupport":{},"textBenefit":{},"mcnManage":{},"tasks":{},"recentlyCreated":[],"announcement":{},"bannerList":[],"creatorsRecommendInfo":{}},"creators":{"bayesDomains":{"status":{},"options":{"topDomains":null,"allDomains":null,"editable":0},"contents":null},"school":{"tabs":[],"contents":[],"banner":null,"entities":{}},"faq":{"tabs":[],"article":{}},"knowledgeIncome":{},"safeguardRights":{},"analytics":{"all":{},"answer":{},"zvideo":{},"article":{},"pin":{},"singleContent":{}},"account":{"growthLevel":{}},"KMResource":{},"training":{},"ToolsQuestion":{"goodatTopics":[]},"ToolsHotspot":{"domains":[]},"ToolsSearchQuestion":{},"editorSetting":{},"MCNManage":{},"knowledgeTasks":{},"incomeAnalysis":{"income":{"aggregation":{}}},"creationManage":{"editModal":{"status":false}},"activity":{},"announcement":{},"home":{"currentCreatorUrlToken":null,"rights":[],"newRights":[],"applyStatus":{},"scoreInfo":{},"menusShowControlByServer":{"bVipRecomend":false,"creationRelationship":false},"newTasks":{"creatorTask":{"tasks":[],"des":[]}}}},"answers":{"voters":{},"copyrightApplicants":{},"favlists":{},"newAnswer":{},"entityWords":{},"concernedUpvoters":{},"simpleConcernedUpvoters":{},"paidContent":{},"settings":{}},"recommendation":{"homeRecommendations":[]},"shareTexts":{},"articles":{"voters":{},"concernedUpvoters":{}},"previewPost":{},"favlists":{"relations":{}},"columns":{"voters":{}},"reward":{"answer":{},"article":{},"question":{}},"video":{"data":{},"shareVideoDetail":{},"last":{}},"topstory":{"recommend":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"follow":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"room":{"meta":{},"isFetching":false,"afterId":0,"items":[],"next":null},"followWonderful":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"sidebar":null,"announcement":{},"hotList":[],"guestFeeds":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followExtra":{"isNewUser":null,"isFetched":false,"followCount":0,"followers":[]},"hotDaily":{"data":[],"paging":{}},"hotHighlight":{"isFetching":false,"isDrained":false,"data":[],"paging":{}},"banner":{},"commercialBanner":{"show":false,"banner":{},"trackData":{}},"video":{"items":[],"next":null,"isLoading":false,"isDrained":false}},"readStatus":{},"column":{},"requestColumn":{"categories":[],"error":null},"articleContribution":{"contributeRequests":[],"deleteContributeIdList":[],"handledContributeIdList":[],"recommendedColumns":[],"pinnedColumns":[],"sentContributeRequestsIdList":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"c_1499907967020982273"]},"columnContribution":{"contributeRequests":[],"autoInviteEnabled":false,"recommendedContributors":[],"contributionInvitation":null},"draftHistory":{"history":{},"drafts":{}},"upload":{},"articleDraft":{"titleImage":"","titleImageSize":{},"isTitleImageFullScreen":false,"canTitleImageFullScreen":false,"title":"","titleImageUploading":false,"error":"","content":"","draftLoading":false,"updating":false,"globalLoading":false,"pendingVideo":{"resource":null,"error":null},"deleteFail":{"fail":false},"recommendTopics":[],"selectedColumn":0,"articleDisclaimers":[]},"articleDrafts":{"isDrained":false,"isLoading":false,"items":[]},"columnAutocomplete":{"users":[],"friends":[]},"columnCollection":{},"userProfit":{"permission":{"permissionStatus":{"zhiZixuan":0,"recommend":-1,"task":0,"plugin":0,"infinity":0},"visible":false}},"mcn":{"bindInfo":{},"memberCategoryList":[],"producerList":[],"categoryList":[],"lists":{},"banners":{},"protocolStatus":{"isAgreedNew":true,"isAgreedOld":true},"probationCountdownDays":0},"zvideos":{"campaignVideoList":{},"campaigns":{},"tagoreCategory":[],"recommendations":{},"insertable":{},"recruit":{"form":{"platform":"","nickname":"","followerCount":"","domain":"","contact":""},"submited":false,"ranking":[]},"club":{},"qyActivityData":{},"talkActivityData":{},"party2022ActivityData":{},"batchVideos":{},"contribution":{"selectedContribution":null,"campaign":null,"configs":{},"contributionLists":{},"recommendQuestions":{"isLoading":true,"paging":{"isEnd":false,"isStart":true,"totals":0},"data":[]},"questionSearchResults":{"isLoading":true,"paging":{"isEnd":false,"isStart":true,"totals":0},"data":[]}},"creationReferences":{},"zvideoCollection":{},"zvideoGrant":{},"collectData":{"isFetching":false,"list":[]},"videoSource":{"isLoaded":false}},"republish":{},"commentPermission":{},"creatorRightStatus":{"list":[]},"adPromotion":{"answer":{},"article":{}}},"fetchHost":"www.zhihu.com","subAppName":"column","spanName":"Post","canaryConfig":{"test_canary":"0"}}</script><script crossorigin="" src="https://static.zhihu.com/heifetz/vendor.7248aedc1642e2c41466.js"></script><script crossorigin="" src="https://static.zhihu.com/event/react@17.0.2/umd/react.production.min.js"></script><script crossorigin="" src="https://static.zhihu.com/event/react-dom@17.0.2/umd/react-dom.production.min.js"></script><script crossorigin="" src="https://static.zhihu.com/event/react-dom@17.0.2/umd/react-dom-server.browser.production.min.js"></script><script crossorigin="" src="https://static.zhihu.com/heifetz/runtime.app.12c17abf14881d835009.js"></script><script crossorigin="" src="https://static.zhihu.com/heifetz/lib-2ec050f6.app.e8faba0a45f15a358f2f.js"></script><script crossorigin="" src="https://static.zhihu.com/heifetz/lib-29107295.app.a5891096834538104d7e.js"></script><script crossorigin="" src="https://static.zhihu.com/heifetz/lib-79b5cf47.app.7ec9842ac1b68669fb3a.js"></script><script crossorigin="" src="https://static.zhihu.com/heifetz/lib-330004dc.app.d43e5dcb9f8ddaa160fd.js"></script><script crossorigin="" src="https://static.zhihu.com/heifetz/lib-0e5ce61e.app.6d8a39a9f40142a4724c.js"></script><script crossorigin="" src="https://static.zhihu.com/heifetz/1158.app.d5e469383e78209cbe91.js"></script><script crossorigin="" src="https://static.zhihu.com/heifetz/column.app.bbc526d106d2c3b48660.js"></script><script defer="" src="https://static.zhihu.com/event/wza/4613/aria.js?appid=a3637ace5dc3a347f6863b0bac487599" id="ariascripts" wapforceoldfixed="false" loaddata="false"></script><script src="https://hm.baidu.com/hm.js?98beee57fd2ef70ccdd5ca52b9740c49" async=""></script><script crossorigin="" src="https://unpkg.zhimg.com/za-js-sdk@4.6.0/dist/zap.js"></script><div><div style="display: none;"><i>想来知乎工作？请发送邮件到 jobs@zhihu.com</i></div></div><script src="https://zz.bdstatic.com/linksubmit/push.js"></script><script crossorigin="" src="https://unpkg.zhimg.com/@cfe/emoticon@1.2.4/lib/emoticon.js"></script><div><div><div class="css-8pdeid"></div></div></div></body></html>
