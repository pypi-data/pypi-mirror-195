<div data-slot="detail" class="bg-white shadow-lg rounded overflow-hidden my-6">
    <!-- tab menu -->
    <div class="flex bg-green-800 text-white font-semibold">
        {% for tab in tabs %}
            <a 
                href="javascript:void(0)"
                class="px-6 py-3 border-b-4 hover:border-white transition hidden md:inline {% if request.GET.tab|default:'sql' == tab.name %} border-white {% else %} border-green-800 {% endif %}"
                hx-get="{% url 'lens:trace_panel' trace.pk %}?slot=detail&tab={{ tab.name }}"
                hx-target="closest [data-slot='detail']"
                hx-swap="outerHTML">
                {{ tab.label }}
            </a>
        {% endfor %}

        <select
            class="md:hidden mx-4 py-3 text-white bg-green-800 focus:outline-none w-full"
            name="tab"
            hx-get="{% url 'lens:trace_panel' trace.pk %}?slot=detail"
            hx-target="closest [data-slot='client_request']"
            hx-swap="outerHTML">
        {% for tab in tabs %}
            <option value="{{ tab.name }}" {% if request.GET.tab == tab.name %}selected{% endif %}>{{ tab.label }}</option>
        {% endfor %}
        </select>
    </div>
    <!-- tab contents -->
    <div class="bg-white xmin-h-96">
        {% if not request.GET.tab or request.GET.tab == 'sql' %}
            {% include 'lens/components/codeblock.html' with code=trace.data.formatted_sql wrap_height=1 only %}
        {% elif request.GET.tab == 'stacktrace' %}
            {% include 'lens/components/stacktrace.html' with stacktrace=trace.data.stacktrace only %}
        {% else %}
            {% include 'lens/components/codeblock.html' with code=trace.data.formatted_sql wrap_height=1 only %}
        {% endif %}
    </div>
</div>
