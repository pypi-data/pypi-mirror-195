(()=>{function p(t){let e=t.getAttribute("aria-controls"),s=document.getElementById(e),o="data-expanded-"+e;t.addEventListener("click",function(){document.body.hasAttribute(o)?(document.body.removeAttribute(o),s.classList.remove("_expanded"),d(e,"false")):(document.body.setAttribute(o,"true"),s.classList.add("_expanded"),d(e,"true"))})}function d(t,e){let s=document.querySelectorAll('[aria-controls="'+t+'"]');for(el of s)el.setAttribute("aria-expanded",e)}var u=document.querySelectorAll(".js-menu");for(let t=0;t<u.length;t++)p(u[t]);var m=document.querySelector(".banner-close");m&&m.addEventListener("click",()=>{let t=document.querySelector(".banner");t.parentNode.removeChild(t)});var g=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,i=document.documentElement;function b(){let t=i.classList.contains("dark"),e=t?"dark":"light";i.classList.remove(e);let s=t?"light":"dark";f(s),sessionStorage._theme=s}var c=document.querySelector(".js-theme");function f(t){i.classList.add(t);let e=c.getAttribute("data-aria-"+t);c.setAttribute("aria-label",e)}if(c){let t=g?"dark":"light",e=sessionStorage._theme||t;f(e),c.addEventListener("click",b)}function h(){let t='.localtoc a[href="'+location.hash+'"]',e=document.querySelector(t);e&&(document.querySelectorAll(".localtoc li").forEach(o=>{o.classList.remove("active")}),e.parentNode.classList.add("active"))}h();window.addEventListener("hashchange",()=>{h()},!1);var r=document.querySelector(".js-repo-stats");async function y(t,e){let s=`https://api.github.com/repos/${t}/${e}`,n=await(await fetch(s)).json(),a={stars:n.watchers,forks:n.forks};l(a),sessionStorage.setItem("_sy/repo/stats",JSON.stringify(a))}async function S(t,e){let s="https://gitlab.com/api/v4/projects/"+encodeURIComponent(t+"/"+e),n=await(await fetch(s)).json(),a={stars:n.star_count,forks:n.forks_count};l(a),sessionStorage.setItem("_sy/repo/stats",JSON.stringify(a))}function l({stars:t,forks:e}){t&&(document.querySelector(".js-repo-stars").textContent=t),e&&(document.querySelector(".js-repo-forks").textContent=e)}function k(){let t=sessionStorage.getItem("_sy/repo/stats");if(t)l(JSON.parse(t));else{let e=r.getAttribute("data-user"),s=r.getAttribute("data-repo"),o=r.getAttribute("data-type");o==="github"?y(e,s):o==="gitlab"&&S(e,s)}}r&&k();})();
