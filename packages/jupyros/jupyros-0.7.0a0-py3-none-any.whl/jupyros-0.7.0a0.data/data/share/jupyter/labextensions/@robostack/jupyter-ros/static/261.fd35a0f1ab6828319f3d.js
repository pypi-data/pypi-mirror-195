(self.webpackChunk_robostack_jupyter_ros=self.webpackChunk_robostack_jupyter_ros||[]).push([[261],{5372:e=>{e.exports={DepthCloudModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"DepthCloudModel",f:526.1,url:""},GridModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"GridModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"GridView",cell_size:.5,color:"#0181c4",num_cells:20},InteractiveMarkerModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"InteractiveMarkerModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"InteractiveMarkerView",menu_font_size:"0.8em",ros:null,tf_client:null,topic:"/basic_controls"},LaserScanModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"LaserScanModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"LaserScanView",color_map:"",color_source:"intensities",max_points:2e5,message_ratio:1,point_ratio:1,point_size:.05,ros:null,static_color:"#FF0000",tf_client:null,topic:"/scan"},MarkerArrayClientModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"MarkerArrayClientModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"MarkerArrayClientView",path:"/",ros:null,tf_client:null,topic:"/marker_array"},MarkerModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"MarkerModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"MarkerView",lifetime:0,path:"/",ros:null,tf_client:null,topic:"/visualization_marker"},OccupancyGridModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"OccupancyGridModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"OccupancyGridView",color:"#FFFFFF",compression:"cbor",continuous:!1,opacity:1,ros:null,tf_client:null,topic:"/map"},PathModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"PathModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"PathView",color:"#CC00FF",ros:null,tf_client:null,topic:"/path"},PointCloudModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"PointCloudModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"PointCloudView",max_points:2e5,message_ratio:2,point_ratio:3,point_size:.05,ros:null,static_color:"#FF0000",tf_client:null,topic:"/point_cloud"},PolygonModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"PolygonModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"PolygonView",color:"#CC00FF",ros:null,tf_client:null,topic:"/polygon"},PoseArrayModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"PoseArrayModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"PoseArrayView",color:"#CC00FF",length:1,ros:null,tf_client:null,topic:"/pose_array"},PoseModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"PoseModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"PoseView",color:"#CC00FF",length:1,ros:null,tf_client:null,topic:"/pose"},ROSConnectionModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"ROSConnectionModel",url:"ws://{hostname}:9090"},SceneNodeModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"SceneNodeModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"SceneNodeView",frame_id:"/base_link",object:null,tf_client:null},TFClientModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"TFClientModel",angular_treshold:.01,fixed_frame:"",rate:10,ros:null,translational_treshold:.01},URDFModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"URDFModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"URDFView",ros:null,tf_client:null,url:"http://{hostname}:3000"},ViewerModelDefaults:{_model_module:"@robostack/jupyter-ros",_model_module_version:"^0.6.1",_model_name:"ViewerModel",_view_module:"@robostack/jupyter-ros",_view_module_version:"^0.6.1",_view_name:"ViewerView",alpha:1,background_color:"#FFFFFF",height:"100%",objects:null}}},1568:(e,t,i)=>{e.exports=i(5835),e.exports.version=i(4147).version},5835:(module,__unused_webpack_exports,__webpack_require__)=>{window.ws=window.WebSocket;var widgets=__webpack_require__(7978),_=__webpack_require__(4439),ROSLIB=__webpack_require__(8477),ROS3D=__webpack_require__(3198),THREE=__webpack_require__(2212),defaults=__webpack_require__(5372),widget_defaults=widgets.WidgetModel.prototype.defaults,domwidget_defaults=widgets.DOMWidgetModel.prototype.defaults,default_serializers=function(e){e=e||["ros","tf_client"];var t={};for(let i in e)t[e[i]]={deserialize:widgets.unpack_models};return{serializers:_.extend(t,widgets.WidgetModel.serializers)}},fixup_url=function(e){return e.replace("{hostname}",window.location.hostname).replace("{port}",window.location.port)},ROSConnectionModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.ROSConnectionModelDefaults),initialize:function(){ROSConnectionModel.__super__.initialize.apply(this,arguments),this.connection=new ROSLIB.Ros({url:fixup_url(this.get("url"))})},get_connection:function(){return this.connection}}),TFClientModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.TFClientModelDefaults),initialize:function(){TFClientModel.__super__.initialize.apply(this,arguments),this.client=new ROSLIB.TFClient({ros:this.get("ros").get_connection(),angularThres:this.get("angular_treshold"),transThres:this.get("translational_treshold"),rate:this.get("rate"),fixedFrame:this.get("fixed_frame")})},get_client:function(){return this.client}},default_serializers(["ros"])),PointCloudModel=widgets.WidgetModel.extend({defaults:_.extend(widgets.WidgetModel.prototype.defaults(),defaults.PointCloudModelDefaults)},default_serializers()),OccupancyGridModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.OccupancyGridDefaults)},default_serializers()),SceneNodeModel=widgets.WidgetModel.extend({defaults:_.extend(widgets.WidgetModel.prototype.defaults(),defaults.SceneNodeModelDefaults)},default_serializers(["tf_client","object"])),OccupancyGridView=widgets.WidgetView.extend({initialize:function(e){OccupancyGridView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer},render:function(){this.three_color=new THREE.Color(this.model.get("color")),this.rgb_color={r:255*this.three_color.r,g:255*this.three_color.g,b:255*this.three_color.b},this.view=new ROS3D.OccupancyGridClient({rootObject:this.viewer.scene,ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),topic:this.model.get("topic"),color:this.rgb_color,compression:this.model.get("compression"),continuous:this.model.get("continuous"),opacity:this.model.get("opacity")})}}),InteractiveMarkerModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.InteractiveMarkerDefaults)},default_serializers()),InteractiveMarkerView=widgets.WidgetView.extend({initialize:function(e){InteractiveMarkerView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer},render:function(){this.view=new ROS3D.InteractiveMarkerClient({ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),topic:this.model.get("topic"),menuFontSize:this.model.get("menu_font_size"),camera:this.viewer.camera,rootObject:this.viewer.selectableObjects})}}),PoseArrayModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.PoseArrayDefaults)},default_serializers()),PoseArrayView=widgets.WidgetView.extend({initialize:function(e){PoseArrayView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer,this.model.on("change:length",(()=>{this.view.length=this.model.get("length")})),this.model.on("change:color",(()=>{this.view.color=this.model.get("color")}))},render:function(){this.view=new ROS3D.PoseArray({ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),topic:this.model.get("topic"),color:this.model.get("color"),length:this.model.get("length"),rootObject:this.viewer.scene})}}),PoseModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.PoseModelDefaults)},default_serializers()),PoseView=widgets.WidgetView.extend({initialize:function(e){PoseView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer,this.model.on("change:length",(()=>{this.view.length=this.model.get("length")})),this.model.on("change:color",(()=>{this.view.color=this.model.get("color")}))},render:function(){this.view=new ROS3D.Pose({ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),topic:this.model.get("topic"),color:this.model.get("color"),length:this.model.get("length"),rootObject:this.viewer.scene})}}),PathModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.PathModelDefaults)},default_serializers()),PathView=widgets.WidgetView.extend({initialize:function(e){PathView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer,this.model.on("change:color",(()=>{this.view.color=this.model.get("color")}))},render:function(){this.view=new ROS3D.Path({ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),topic:this.model.get("topic"),color:this.model.get("color"),rootObject:this.viewer.scene})}}),PolygonModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.PolygonModelDefaults)},default_serializers()),PolygonView=widgets.WidgetView.extend({initialize:function(e){PolygonView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer,this.model.on("change:color",(()=>{this.view.color=this.model.get("color")}))},render:function(){this.view=new ROS3D.Polygon({ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),topic:this.model.get("topic"),color:this.model.get("color"),rootObject:this.viewer.scene})}}),LaserScanModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.LaserScanModelDefaults)},default_serializers()),toMaterial=function(e,t){return{size:e,color:new THREE.Color(t)}},LaserScanView=widgets.WidgetView.extend({initialize:function(e){LaserScanView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer,this.model.on("change",this.trigger_rerender,this)},render:function(){this.model.get("color_map")&&(this.color_map_function=eval(this.model.get("color_map"))),this.view=new ROS3D.LaserScan({ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),topic:this.model.get("topic"),rootObject:this.viewer.scene,messageRatio:this.model.get("message_ratio"),max_pts:this.model.get("max_points"),pointRatio:this.model.get("point_ratio"),material:toMaterial(this.model.get("point_size"),this.model.get("static_color")),colorsrc:this.model.get("color_source"),colormap:this.color_map_function||void 0})},remove:function(){this.viewer.scene.remove(this.view.points.sn)},trigger_rerender:function(){this.remove(),this.render()}}),MarkerModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.MarkerDefaults)},default_serializers()),MarkerView=widgets.WidgetView.extend({initialize:function(e){MarkerView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer},render:function(){this.view=new ROS3D.MarkerClient({ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),topic:this.model.get("topic"),path:this.model.get("path"),lifetime:this.model.get("lifetime"),rootObject:this.viewer.scene})}}),MarkerArrayModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.MarkerArrayDefaults)},default_serializers()),MarkerArrayView=widgets.WidgetView.extend({initialize:function(e){MarkerArrayView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer},render:function(){this.view=new ROS3D.MarkerArrayClient({ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),topic:this.model.get("topic"),path:this.model.get("path"),rootObject:this.viewer.scene})}}),GridModel=widgets.WidgetModel.extend({defaults:_.extend(widgets.WidgetModel.prototype.defaults(),defaults.GridModelDefaults)}),URDFModel=widgets.WidgetModel.extend({defaults:_.extend(widgets.WidgetModel.prototype.defaults(),defaults.URDFModelDefaults)},default_serializers()),URDFView=widgets.WidgetView.extend({initialize:function(e){URDFView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer},render:function(){this.view=new ROS3D.UrdfClient({ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),rootObject:this.viewer.scene,path:fixup_url(this.model.get("url"))})},trigger_rerender:function(){this.remove(),this.render()},remove:function(){this.viewer.scene.remove(this.view)}}),ViewerModel=widgets.DOMWidgetModel.extend({defaults:_.extend(widgets.DOMWidgetModel.prototype.defaults(),defaults.ViewerModelDefaults)},default_serializers(["objects","layout"])),PointCloudView=widgets.WidgetView.extend({initialize:function(e){PointCloudView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer},render:function(){this.view=new ROS3D.PointCloud2({ros:this.model.get("ros").get_connection(),tfClient:this.model.get("tf_client").get_client(),topic:this.model.get("topic"),rootObject:this.viewer.scene,messageRatio:this.model.get("message_ratio"),max_pts:this.model.get("max_points"),pointRatio:this.model.get("point_ratio"),material:toMaterial(this.model.get("point_size"),this.model.get("static_color"))})}}),DepthCloudModel=widgets.WidgetModel.extend({defaults:_.extend(widget_defaults(),defaults.DepthCloudModelDefaults),initialize:function(){DepthCloudModel.__super__.initialize.apply(this,arguments),this.depth_cloud=new ROS3D.DepthCloud({url:this.get("url"),f:this.get("f")}),this.depth_cloud.startStream()},get_threejs_obj:function(){return this.depth_cloud}}),SceneNodeView=widgets.WidgetView.extend({initialize:function(e){SceneNodeView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer,this.model.on("change",this.trigger_rerender,this)},render:function(){this.view=new ROS3D.SceneNode({frameID:this.model.get("frame_id"),tfClient:this.model.get("tf_client").get_client(),object:this.model.get("object").get_threejs_obj()}),this.viewer.scene.add(this.view)},trigger_rerender:function(){this.remove(),this.render()},remove:function(){this.viewer.scene.remove(this.view)}}),GridView=widgets.WidgetView.extend({initialize:function(e){GridView.__super__.initialize.apply(this,arguments),this.viewer=this.options.viewer,this.model.on("change",this.trigger_rerender,this)},render:function(){this.grid_view=new ROS3D.Grid({color:this.model.get("color"),cellSize:this.model.get("cell_size"),num_cells:this.model.get("num_cells")}),this.viewer.addObject(this.grid_view)},trigger_rerender:function(){this.remove(),this.render()},remove:function(){this.viewer.scene.remove(this.grid_view)}}),ViewerView=widgets.DOMWidgetView.extend({render:function(){var e=(new Date).getTime().toString()+Math.floor(Math.random()*Math.floor(9999)).toString();this.el.id=e+"ROS_VIEWER",this.model.on("change:background_color",this.background_color_change,this),this.model.on("change:alpha",this.background_color_change,this),this.displayed.then((()=>{this.init_viewer()}))},add_object:function(e){return this.create_child_view(e,{viewer:this.viewer})},remove_object:function(e){e.remove()},objects_changed:function(e){this.object_views.update(e.changed.objects)},trigger_resize:function(){this.viewer.resize(this.el.clientWidth,this.el.clientHeight)},processPhosphorMessage:function(e){ViewerView.__super__.processPhosphorMessage.apply(this,arguments),"resize"==e.type&&this.trigger_resize()},background_color_change:function(){this.viewer.renderer.setClearColor(this.model.get("background_color"),this.model.get("alpha"))},init_viewer:function(){var e=this.model.get("layout").get("height");e=null===e||"auto"==e?400:parseInt(e),this.viewer=new ROS3D.Viewer({divID:this.el.id,width:this.el.clientWidth,height:e,antialias:this.model.get("antialias"),background:this.model.get("background_color")}),window.addEventListener("resize",(()=>{this.viewer&&this.trigger_resize()})),this.model.on("change:objects",this.objects_changed,this),this.object_views=new widgets.ViewList(this.add_object,this.remove_object,this),this.object_views.update(this.model.get("objects"))}});module.exports={ROSConnectionModel,TFClientModel,PointCloudModel,PointCloudView,MarkerModel,MarkerView,MarkerArrayModel,MarkerArrayView,OccupancyGridModel,OccupancyGridView,InteractiveMarkerModel,InteractiveMarkerView,GridModel,GridView,URDFModel,URDFView,PoseArrayModel,PoseArrayView,PoseModel,PoseView,PathModel,PathView,PolygonModel,PolygonView,LaserScanModel,LaserScanView,SceneNodeModel,SceneNodeView,DepthCloudModel,ViewerModel,ViewerView}},6261:(e,t,i)=>{var o=i(1568),l=i(7978);e.exports={id:"@robostack/jupyter-ros",requires:[l.IJupyterWidgetRegistry],activate:function(e,t){t.registerWidget({name:"@robostack/jupyter-ros",version:o.version,exports:o})},autoStart:!0}},4147:e=>{"use strict";e.exports=JSON.parse('{"version":"0.7.0-a0"}')}}]);