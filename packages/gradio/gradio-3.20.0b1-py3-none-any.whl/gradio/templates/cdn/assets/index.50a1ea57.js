import{S as P,i as S,s as q,F as U,H as D,G as E,B as A,f as F,D as z,J as W,p as B,E as M,N as ae,c as w,e as C,m as v,k as G,t as h,n as I,o as k,l as y,q as Z,V as ie,b as re,a as se,j as oe,W as fe,X as ue,Y as _e,Z as ce,ah as me,v as be,a2 as de,g as ge,h as pe,x as H}from"./index.ec9ad291.js";/* empty css                                            */import{B as Q}from"./BlockLabel.1b9c9e77.js";import{E as he}from"./Empty.24ba1762.js";/* empty css                                                    */import{F as L}from"./File.2a3a82b6.js";import{U as ke}from"./Upload.6589a2c8.js";import{M as we}from"./ModifyUpload.742a8286.js";import{n as J,b as ve}from"./ModifyUpload.svelte_svelte_type_style_lang.1181cbe3.js";import{B as ye}from"./Block.f2fc8274.js";import{U as Ae}from"./UploadText.65e91918.js";import"./Blocks.910f92d8.js";import"./Button.196a7d32.js";const Fe=i=>{let l=["B","KB","MB","GB","PB"],n=0;for(;i>1024;)i/=1024,n++;let e=l[n];return i.toFixed(1)+" "+e},K=i=>{var l;return l=i.orig_name||i.name,l.length>30?`${l.substr(0,30)}...`:l},V=i=>{var l=0;if(Array.isArray(i))for(var n of i)n.size!==void 0&&(l+=n.size);else l=i.size||0;return Fe(l)};function X(i,l,n){const e=i.slice();return e[1]=l[n],e}function Be(i){let l;return{c(){l=D("Uploading...")},m(n,e){F(n,l,e)},p:M,d(n){n&&B(l)}}}function ze(i){let l,n,e,t;return{c(){l=U("a"),n=D("Download"),A(l,"href",e=i[1].data),A(l,"target","_blank"),A(l,"download",t=window.__is_colab__?null:i[1].orig_name||i[1].name),A(l,"class","svelte-19f0ibn")},m(a,r){F(a,l,r),z(l,n)},p(a,r){r&1&&e!==(e=a[1].data)&&A(l,"href",e),r&1&&t!==(t=window.__is_colab__?null:a[1].orig_name||a[1].name)&&A(l,"download",t)},d(a){a&&B(l)}}}function Y(i){let l,n,e=K(i[1])+"",t,a,r,o=V(i[1])+"",u,d,s,_;function f(p,c){return p[1].data?ze:Be}let b=f(i),g=b(i);return{c(){l=U("tr"),n=U("td"),t=D(e),a=E(),r=U("td"),u=D(o),d=E(),s=U("td"),g.c(),_=E(),A(n,"class","svelte-19f0ibn"),A(r,"class","svelte-19f0ibn"),A(s,"class","download svelte-19f0ibn"),A(l,"class","file svelte-19f0ibn")},m(p,c){F(p,l,c),z(l,n),z(n,t),z(l,a),z(l,r),z(r,u),z(l,d),z(l,s),g.m(s,null),z(l,_)},p(p,c){c&1&&e!==(e=K(p[1])+"")&&W(t,e),c&1&&o!==(o=V(p[1])+"")&&W(u,o),b===(b=f(p))&&g?g.p(p,c):(g.d(1),g=b(p),g&&(g.c(),g.m(s,null)))},d(p){p&&B(l),g.d()}}}function Ue(i){let l,n,e=Array.isArray(i[0])?i[0]:[i[0]],t=[];for(let a=0;a<e.length;a+=1)t[a]=Y(X(i,e,a));return{c(){l=U("table"),n=U("tbody");for(let a=0;a<t.length;a+=1)t[a].c();A(l,"class","file-preview svelte-19f0ibn")},m(a,r){F(a,l,r),z(l,n);for(let o=0;o<t.length;o+=1)t[o].m(n,null)},p(a,[r]){if(r&1){e=Array.isArray(a[0])?a[0]:[a[0]];let o;for(o=0;o<e.length;o+=1){const u=X(a,e,o);t[o]?t[o].p(u,r):(t[o]=Y(u),t[o].c(),t[o].m(n,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=e.length}},i:M,o:M,d(a){a&&B(l),ae(t,a)}}}function je(i,l,n){let{value:e}=l;return i.$$set=t=>{"value"in t&&n(0,e=t.value)},[e]}class $ extends P{constructor(l){super(),S(this,l,je,Ue,q,{value:0})}}function Ee(i){let l,n;return l=new he({props:{size:"large",unpadded_box:!0,$$slots:{default:[Ne]},$$scope:{ctx:i}}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,t){const a={};t&8&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Te(i){let l,n,e;return n=new $({props:{value:i[0]}}),{c(){l=U("div"),w(n.$$.fragment),A(l,"class","file-preview svelte-kpwkad")},m(t,a){F(t,l,a),v(n,l,null),e=!0},p(t,a){const r={};a&1&&(r.value=t[0]),n.$set(r)},i(t){e||(k(n.$$.fragment,t),e=!0)},o(t){h(n.$$.fragment,t),e=!1},d(t){t&&B(l),y(n)}}}function Ne(i){let l,n;return l=new L({}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function De(i){let l,n,e,t,a,r;l=new Q({props:{show_label:i[2],Icon:L,label:i[1]||"File"}});const o=[Te,Ee],u=[];function d(s,_){return s[0]?0:1}return e=d(i),t=u[e]=o[e](i),{c(){w(l.$$.fragment),n=E(),t.c(),a=C()},m(s,_){v(l,s,_),F(s,n,_),u[e].m(s,_),F(s,a,_),r=!0},p(s,[_]){const f={};_&4&&(f.show_label=s[2]),_&2&&(f.label=s[1]||"File"),l.$set(f);let b=e;e=d(s),e===b?u[e].p(s,_):(G(),h(u[b],1,1,()=>{u[b]=null}),I(),t=u[e],t?t.p(s,_):(t=u[e]=o[e](s),t.c()),k(t,1),t.m(a.parentNode,a))},i(s){r||(k(l.$$.fragment,s),k(t),r=!0)},o(s){h(l.$$.fragment,s),h(t),r=!1},d(s){y(l,s),s&&B(n),u[e].d(s),s&&B(a)}}}function Me(i,l,n){let{value:e=null}=l,{label:t}=l,{show_label:a=!0}=l;return i.$$set=r=>{"value"in r&&n(0,e=r.value),"label"in r&&n(1,t=r.label),"show_label"in r&&n(2,a=r.show_label)},[e,t,a]}class Pe extends P{constructor(l){super(),S(this,l,Me,De,q,{value:0,label:1,show_label:2})}}function Se(i){let l,n,e;function t(r){i[10](r)}let a={filetype:i[5],parse_to_data_url:!1,file_count:i[3],$$slots:{default:[Ce]},$$scope:{ctx:i}};return i[4]!==void 0&&(a.dragging=i[4]),l=new ke({props:a}),re.push(()=>se(l,"dragging",t)),l.$on("load",i[6]),{c(){w(l.$$.fragment)},m(r,o){v(l,r,o),e=!0},p(r,o){const u={};o&32&&(u.filetype=r[5]),o&8&&(u.file_count=r[3]),o&2048&&(u.$$scope={dirty:o,ctx:r}),!n&&o&16&&(n=!0,u.dragging=r[4],oe(()=>n=!1)),l.$set(u)},i(r){e||(k(l.$$.fragment,r),e=!0)},o(r){h(l.$$.fragment,r),e=!1},d(r){y(l,r)}}}function qe(i){let l,n,e,t;return l=new we({props:{absolute:!0}}),l.$on("clear",i[7]),e=new $({props:{value:i[0]}}),{c(){w(l.$$.fragment),n=E(),w(e.$$.fragment)},m(a,r){v(l,a,r),F(a,n,r),v(e,a,r),t=!0},p(a,r){const o={};r&1&&(o.value=a[0]),e.$set(o)},i(a){t||(k(l.$$.fragment,a),k(e.$$.fragment,a),t=!0)},o(a){h(l.$$.fragment,a),h(e.$$.fragment,a),t=!1},d(a){y(l,a),a&&B(n),y(e,a)}}}function Ce(i){let l;const n=i[9].default,e=fe(n,i,i[11],null);return{c(){e&&e.c()},m(t,a){e&&e.m(t,a),l=!0},p(t,a){e&&e.p&&(!l||a&2048)&&ue(e,n,t,t[11],l?ce(n,t[11],a,null):_e(t[11]),null)},i(t){l||(k(e,t),l=!0)},o(t){h(e,t),l=!1},d(t){e&&e.d(t)}}}function Ge(i){let l,n,e,t,a,r;l=new Q({props:{show_label:i[2],Icon:L,label:i[1]||"File"}});const o=[qe,Se],u=[];function d(s,_){return s[0]?0:1}return e=d(i),t=u[e]=o[e](i),{c(){w(l.$$.fragment),n=E(),t.c(),a=C()},m(s,_){v(l,s,_),F(s,n,_),u[e].m(s,_),F(s,a,_),r=!0},p(s,[_]){const f={};_&4&&(f.show_label=s[2]),_&2&&(f.label=s[1]||"File"),l.$set(f);let b=e;e=d(s),e===b?u[e].p(s,_):(G(),h(u[b],1,1,()=>{u[b]=null}),I(),t=u[e],t?t.p(s,_):(t=u[e]=o[e](s),t.c()),k(t,1),t.m(a.parentNode,a))},i(s){r||(k(l.$$.fragment,s),k(t),r=!0)},o(s){h(l.$$.fragment,s),h(t),r=!1},d(s){y(l,s),s&&B(n),u[e].d(s),s&&B(a)}}}function Ie(i,l,n){let{$$slots:e={},$$scope:t}=l,{value:a}=l,{label:r}=l,{show_label:o=!0}=l,{file_count:u="single"}=l,{file_types:d=null}=l;async function s({detail:c}){n(0,a=c),await ie(),f("change",a),f("upload",c)}function _({detail:c}){n(0,a=null),f("change",a),f("clear")}const f=Z();let b;d==null?b=null:(d=d.map(c=>c.startsWith(".")?c:c+"/*"),b=d.join(", "));let g=!1;function p(c){g=c,n(4,g)}return i.$$set=c=>{"value"in c&&n(0,a=c.value),"label"in c&&n(1,r=c.label),"show_label"in c&&n(2,o=c.show_label),"file_count"in c&&n(3,u=c.file_count),"file_types"in c&&n(8,d=c.file_types),"$$scope"in c&&n(11,t=c.$$scope)},i.$$.update=()=>{i.$$.dirty&16&&f("drag",g)},[a,r,o,u,g,b,s,_,d,e,p,t]}class Le extends P{constructor(l){super(),S(this,l,Ie,Ge,q,{value:0,label:1,show_label:2,file_count:3,file_types:8})}}function Oe(i){let l,n;return l=new Pe({props:{value:i[9],label:i[4],show_label:i[5]}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,t){const a={};t&512&&(a.value=e[9]),t&16&&(a.label=e[4]),t&32&&(a.show_label=e[5]),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Re(i){let l,n;return l=new Le({props:{label:i[4],show_label:i[5],value:i[9],file_count:i[6],file_types:i[7],$$slots:{default:[We]},$$scope:{ctx:i}}}),l.$on("change",i[15]),l.$on("drag",i[16]),l.$on("clear",i[17]),l.$on("upload",i[18]),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,t){const a={};t&16&&(a.label=e[4]),t&32&&(a.show_label=e[5]),t&512&&(a.value=e[9]),t&64&&(a.file_count=e[6]),t&128&&(a.file_types=e[7]),t&1048576&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function We(i){let l,n;return l=new Ae({props:{type:"file"}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p:M,i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function He(i){let l,n,e,t,a,r;const o=[i[8],{status:i[11]?"generating":i[8]?.status||"complete"}];let u={};for(let f=0;f<o.length;f+=1)u=be(u,o[f]);l=new de({props:u});const d=[Re,Oe],s=[];function _(f,b){return f[3]==="dynamic"?0:1}return e=_(i),t=s[e]=d[e](i),{c(){w(l.$$.fragment),n=E(),t.c(),a=C()},m(f,b){v(l,f,b),F(f,n,b),s[e].m(f,b),F(f,a,b),r=!0},p(f,b){const g=b&2304?ge(o,[b&256&&pe(f[8]),{status:f[11]?"generating":f[8]?.status||"complete"}]):{};l.$set(g);let p=e;e=_(f),e===p?s[e].p(f,b):(G(),h(s[p],1,1,()=>{s[p]=null}),I(),t=s[e],t?t.p(f,b):(t=s[e]=d[e](f),t.c()),k(t,1),t.m(a.parentNode,a))},i(f){r||(k(l.$$.fragment,f),k(t),r=!0)},o(f){h(l.$$.fragment,f),h(t),r=!1},d(f){y(l,f),f&&B(n),s[e].d(f),f&&B(a)}}}function Je(i){let l,n;return l=new ye({props:{visible:i[2],variant:i[3]==="dynamic"&&i[0]===null?"dashed":"solid",color:i[10]?"green":"grey",padding:!1,elem_id:i[1],$$slots:{default:[He]},$$scope:{ctx:i}}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,[t]){const a={};t&4&&(a.visible=e[2]),t&9&&(a.variant=e[3]==="dynamic"&&e[0]===null?"dashed":"solid"),t&1024&&(a.color=e[10]?"green":"grey"),t&2&&(a.elem_id=e[1]),t&1052665&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Ke(i,l,n){let e,{elem_id:t=""}=l,{visible:a=!0}=l,{value:r}=l,o,{mode:u}=l,{root:d}=l,{label:s}=l,{show_label:_}=l,{file_count:f}=l,{file_types:b=["file"]}=l,{root_url:g}=l,{loading_status:p}=l,c=!1,N=!1;const O=Z(),x=({detail:m})=>n(0,r=m),ee=({detail:m})=>n(10,c=m);function le(m){H.call(this,i,m)}function te(m){H.call(this,i,m)}return i.$$set=m=>{"elem_id"in m&&n(1,t=m.elem_id),"visible"in m&&n(2,a=m.visible),"value"in m&&n(0,r=m.value),"mode"in m&&n(3,u=m.mode),"root"in m&&n(12,d=m.root),"label"in m&&n(4,s=m.label),"show_label"in m&&n(5,_=m.show_label),"file_count"in m&&n(6,f=m.file_count),"file_types"in m&&n(7,b=m.file_types),"root_url"in m&&n(13,g=m.root_url),"loading_status"in m&&n(8,p=m.loading_status)},i.$$.update=()=>{if(i.$$.dirty&12289&&n(9,e=J(r,d,g)),i.$$.dirty&29193&&e!==o){if(n(14,o=e),e===null)O("change"),n(11,N=!1);else if(u==="dynamic"){let m=(Array.isArray(e)?e:[e]).map(T=>T.blob),ne=e;n(11,N=!0),me(d,m).then(T=>{ne===e&&(n(11,N=!1),T.error?(Array.isArray(e)?e:[e]).forEach(async(j,R)=>{j.data=await ve(j.blob)}):((Array.isArray(e)?e:[e]).forEach((j,R)=>{T.files&&(j.orig_name=j.name,j.name=T.files[R],j.is_file=!0)}),n(9,e=J(r,d,g))),O("change"))})}}},[r,t,a,u,s,_,f,b,p,e,c,N,d,g,o,x,ee,le,te]}class Ve extends P{constructor(l){super(),S(this,l,Ke,Je,q,{elem_id:1,visible:2,value:0,mode:3,root:12,label:4,show_label:5,file_count:6,file_types:7,root_url:13,loading_status:8})}}var sl=Ve;const ol=["static","dynamic"],fl=i=>({type:{input_payload:"{ name: string; data: string }",response_object:"{ orig_name: string; name: string, size: number, data: string, is_file: boolean}"},description:{input_payload:"object with file name and base64 data",response_object:"object that includes path to file. The URL: {ROOT}file={name} contains the data"},example_data:{name:"zip.zip",data:"data:@file/octet-stream;base64,UEsFBgAAAAAAAAAAAAAAAAAAAAAAAA=="}});export{sl as Component,fl as document,ol as modes};
//# sourceMappingURL=index.50a1ea57.js.map
