import{S as P,i as S,s as q,F as U,H as D,G as E,B as A,f as F,D as z,J as W,p as B,E as M,N as ae,c as w,e as C,m as v,k as G,t as h,n as I,o as k,l as y,q as Z,V as re,b as ie,a as se,j as oe,W as fe,X as ue,Y as _e,Z as ce,ag as me,v as be,a2 as de,g as ge,h as pe,x as H}from"./index.f1c0a732.js";/* empty css                                            */import{B as Q}from"./BlockLabel.14d75aea.js";import{E as he}from"./Empty.34b36fbd.js";/* empty css                                                    */import{F as L}from"./File.a8617a2e.js";import{U as ke}from"./Upload.2e3c0ba4.js";import{M as we}from"./ModifyUpload.4d687cb1.js";import{n as J,b as ve}from"./ModifyUpload.svelte_svelte_type_style_lang.1181cbe3.js";import{B as ye}from"./Block.ea4b5604.js";import{U as Ae}from"./UploadText.6e5917f6.js";import"./Blocks.aa8f643d.js";import"./Button.4322af01.js";const Fe=r=>{let l=["B","KB","MB","GB","PB"],n=0;for(;r>1024;)r/=1024,n++;let e=l[n];return r.toFixed(1)+" "+e},K=r=>{var l;return l=r.orig_name||r.name,l.length>30?`${l.substr(0,30)}...`:l},V=r=>{var l=0;if(Array.isArray(r))for(var n of r)n.size!==void 0&&(l+=n.size);else l=r.size||0;return Fe(l)};function X(r,l,n){const e=r.slice();return e[1]=l[n],e}function Be(r){let l;return{c(){l=D("Uploading...")},m(n,e){F(n,l,e)},p:M,d(n){n&&B(l)}}}function ze(r){let l,n,e,t;return{c(){l=U("a"),n=D("Download"),A(l,"href",e=r[1].data),A(l,"target","_blank"),A(l,"download",t=window.__is_colab__?null:r[1].orig_name||r[1].name),A(l,"class","svelte-19f0ibn")},m(a,i){F(a,l,i),z(l,n)},p(a,i){i&1&&e!==(e=a[1].data)&&A(l,"href",e),i&1&&t!==(t=window.__is_colab__?null:a[1].orig_name||a[1].name)&&A(l,"download",t)},d(a){a&&B(l)}}}function Y(r){let l,n,e=K(r[1])+"",t,a,i,o=V(r[1])+"",u,d,s,c;function f(p,m){return p[1].data?ze:Be}let b=f(r),g=b(r);return{c(){l=U("tr"),n=U("td"),t=D(e),a=E(),i=U("td"),u=D(o),d=E(),s=U("td"),g.c(),c=E(),A(n,"class","svelte-19f0ibn"),A(i,"class","svelte-19f0ibn"),A(s,"class","download svelte-19f0ibn"),A(l,"class","file svelte-19f0ibn")},m(p,m){F(p,l,m),z(l,n),z(n,t),z(l,a),z(l,i),z(i,u),z(l,d),z(l,s),g.m(s,null),z(l,c)},p(p,m){m&1&&e!==(e=K(p[1])+"")&&W(t,e),m&1&&o!==(o=V(p[1])+"")&&W(u,o),b===(b=f(p))&&g?g.p(p,m):(g.d(1),g=b(p),g&&(g.c(),g.m(s,null)))},d(p){p&&B(l),g.d()}}}function Ue(r){let l,n,e=Array.isArray(r[0])?r[0]:[r[0]],t=[];for(let a=0;a<e.length;a+=1)t[a]=Y(X(r,e,a));return{c(){l=U("table"),n=U("tbody");for(let a=0;a<t.length;a+=1)t[a].c();A(l,"class","file-preview svelte-19f0ibn")},m(a,i){F(a,l,i),z(l,n);for(let o=0;o<t.length;o+=1)t[o].m(n,null)},p(a,[i]){if(i&1){e=Array.isArray(a[0])?a[0]:[a[0]];let o;for(o=0;o<e.length;o+=1){const u=X(a,e,o);t[o]?t[o].p(u,i):(t[o]=Y(u),t[o].c(),t[o].m(n,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=e.length}},i:M,o:M,d(a){a&&B(l),ae(t,a)}}}function je(r,l,n){let{value:e}=l;return r.$$set=t=>{"value"in t&&n(0,e=t.value)},[e]}class $ extends P{constructor(l){super(),S(this,l,je,Ue,q,{value:0})}}function Ee(r){let l,n;return l=new he({props:{size:"large",unpadded_box:!0,$$slots:{default:[Ne]},$$scope:{ctx:r}}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,t){const a={};t&8&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Te(r){let l,n,e;return n=new $({props:{value:r[0]}}),{c(){l=U("div"),w(n.$$.fragment),A(l,"class","file-preview svelte-kpwkad")},m(t,a){F(t,l,a),v(n,l,null),e=!0},p(t,a){const i={};a&1&&(i.value=t[0]),n.$set(i)},i(t){e||(k(n.$$.fragment,t),e=!0)},o(t){h(n.$$.fragment,t),e=!1},d(t){t&&B(l),y(n)}}}function Ne(r){let l,n;return l=new L({}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function De(r){let l,n,e,t,a,i;l=new Q({props:{show_label:r[2],Icon:L,label:r[1]||"File"}});const o=[Te,Ee],u=[];function d(s,c){return s[0]?0:1}return e=d(r),t=u[e]=o[e](r),{c(){w(l.$$.fragment),n=E(),t.c(),a=C()},m(s,c){v(l,s,c),F(s,n,c),u[e].m(s,c),F(s,a,c),i=!0},p(s,[c]){const f={};c&4&&(f.show_label=s[2]),c&2&&(f.label=s[1]||"File"),l.$set(f);let b=e;e=d(s),e===b?u[e].p(s,c):(G(),h(u[b],1,1,()=>{u[b]=null}),I(),t=u[e],t?t.p(s,c):(t=u[e]=o[e](s),t.c()),k(t,1),t.m(a.parentNode,a))},i(s){i||(k(l.$$.fragment,s),k(t),i=!0)},o(s){h(l.$$.fragment,s),h(t),i=!1},d(s){y(l,s),s&&B(n),u[e].d(s),s&&B(a)}}}function Me(r,l,n){let{value:e=null}=l,{label:t}=l,{show_label:a=!0}=l;return r.$$set=i=>{"value"in i&&n(0,e=i.value),"label"in i&&n(1,t=i.label),"show_label"in i&&n(2,a=i.show_label)},[e,t,a]}class Pe extends P{constructor(l){super(),S(this,l,Me,De,q,{value:0,label:1,show_label:2})}}function Se(r){let l,n,e;function t(i){r[10](i)}let a={filetype:r[5],parse_to_data_url:!1,file_count:r[3],$$slots:{default:[Ce]},$$scope:{ctx:r}};return r[4]!==void 0&&(a.dragging=r[4]),l=new ke({props:a}),ie.push(()=>se(l,"dragging",t)),l.$on("load",r[6]),{c(){w(l.$$.fragment)},m(i,o){v(l,i,o),e=!0},p(i,o){const u={};o&32&&(u.filetype=i[5]),o&8&&(u.file_count=i[3]),o&2048&&(u.$$scope={dirty:o,ctx:i}),!n&&o&16&&(n=!0,u.dragging=i[4],oe(()=>n=!1)),l.$set(u)},i(i){e||(k(l.$$.fragment,i),e=!0)},o(i){h(l.$$.fragment,i),e=!1},d(i){y(l,i)}}}function qe(r){let l,n,e,t;return l=new we({props:{absolute:!0}}),l.$on("clear",r[7]),e=new $({props:{value:r[0]}}),{c(){w(l.$$.fragment),n=E(),w(e.$$.fragment)},m(a,i){v(l,a,i),F(a,n,i),v(e,a,i),t=!0},p(a,i){const o={};i&1&&(o.value=a[0]),e.$set(o)},i(a){t||(k(l.$$.fragment,a),k(e.$$.fragment,a),t=!0)},o(a){h(l.$$.fragment,a),h(e.$$.fragment,a),t=!1},d(a){y(l,a),a&&B(n),y(e,a)}}}function Ce(r){let l;const n=r[9].default,e=fe(n,r,r[11],null);return{c(){e&&e.c()},m(t,a){e&&e.m(t,a),l=!0},p(t,a){e&&e.p&&(!l||a&2048)&&ue(e,n,t,t[11],l?ce(n,t[11],a,null):_e(t[11]),null)},i(t){l||(k(e,t),l=!0)},o(t){h(e,t),l=!1},d(t){e&&e.d(t)}}}function Ge(r){let l,n,e,t,a,i;l=new Q({props:{show_label:r[2],Icon:L,label:r[1]||"File"}});const o=[qe,Se],u=[];function d(s,c){return s[0]?0:1}return e=d(r),t=u[e]=o[e](r),{c(){w(l.$$.fragment),n=E(),t.c(),a=C()},m(s,c){v(l,s,c),F(s,n,c),u[e].m(s,c),F(s,a,c),i=!0},p(s,[c]){const f={};c&4&&(f.show_label=s[2]),c&2&&(f.label=s[1]||"File"),l.$set(f);let b=e;e=d(s),e===b?u[e].p(s,c):(G(),h(u[b],1,1,()=>{u[b]=null}),I(),t=u[e],t?t.p(s,c):(t=u[e]=o[e](s),t.c()),k(t,1),t.m(a.parentNode,a))},i(s){i||(k(l.$$.fragment,s),k(t),i=!0)},o(s){h(l.$$.fragment,s),h(t),i=!1},d(s){y(l,s),s&&B(n),u[e].d(s),s&&B(a)}}}function Ie(r,l,n){let{$$slots:e={},$$scope:t}=l,{value:a}=l,{label:i}=l,{show_label:o=!0}=l,{file_count:u="single"}=l,{file_types:d=null}=l;async function s({detail:m}){n(0,a=m),await re(),f("change",a),f("upload",m)}function c({detail:m}){n(0,a=null),f("change",a),f("clear")}const f=Z();let b;d==null?b=null:(d=d.map(m=>m.startsWith(".")?m:m+"/*"),b=d.join(", "));let g=!1;function p(m){g=m,n(4,g)}return r.$$set=m=>{"value"in m&&n(0,a=m.value),"label"in m&&n(1,i=m.label),"show_label"in m&&n(2,o=m.show_label),"file_count"in m&&n(3,u=m.file_count),"file_types"in m&&n(8,d=m.file_types),"$$scope"in m&&n(11,t=m.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&f("drag",g)},[a,i,o,u,g,b,s,c,d,e,p,t]}class Le extends P{constructor(l){super(),S(this,l,Ie,Ge,q,{value:0,label:1,show_label:2,file_count:3,file_types:8})}}function Oe(r){let l,n;return l=new Pe({props:{value:r[9],label:r[4],show_label:r[5]}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,t){const a={};t&512&&(a.value=e[9]),t&16&&(a.label=e[4]),t&32&&(a.show_label=e[5]),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Re(r){let l,n;return l=new Le({props:{label:r[4],show_label:r[5],value:r[9],file_count:r[6],file_types:r[7],$$slots:{default:[We]},$$scope:{ctx:r}}}),l.$on("change",r[15]),l.$on("drag",r[16]),l.$on("clear",r[17]),l.$on("upload",r[18]),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,t){const a={};t&16&&(a.label=e[4]),t&32&&(a.show_label=e[5]),t&512&&(a.value=e[9]),t&64&&(a.file_count=e[6]),t&128&&(a.file_types=e[7]),t&1048576&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function We(r){let l,n;return l=new Ae({props:{type:"file"}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p:M,i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function He(r){let l,n,e,t,a,i;const o=[r[8],{status:r[11]?"generating":r[8]?.status||"complete"}];let u={};for(let f=0;f<o.length;f+=1)u=be(u,o[f]);l=new de({props:u});const d=[Re,Oe],s=[];function c(f,b){return f[3]==="dynamic"?0:1}return e=c(r),t=s[e]=d[e](r),{c(){w(l.$$.fragment),n=E(),t.c(),a=C()},m(f,b){v(l,f,b),F(f,n,b),s[e].m(f,b),F(f,a,b),i=!0},p(f,b){const g=b&2304?ge(o,[b&256&&pe(f[8]),{status:f[11]?"generating":f[8]?.status||"complete"}]):{};l.$set(g);let p=e;e=c(f),e===p?s[e].p(f,b):(G(),h(s[p],1,1,()=>{s[p]=null}),I(),t=s[e],t?t.p(f,b):(t=s[e]=d[e](f),t.c()),k(t,1),t.m(a.parentNode,a))},i(f){i||(k(l.$$.fragment,f),k(t),i=!0)},o(f){h(l.$$.fragment,f),h(t),i=!1},d(f){y(l,f),f&&B(n),s[e].d(f),f&&B(a)}}}function Je(r){let l,n;return l=new ye({props:{visible:r[2],variant:r[3]==="dynamic"&&r[0]===null?"dashed":"solid",color:r[10]?"green":"grey",padding:!1,elem_id:r[1],$$slots:{default:[He]},$$scope:{ctx:r}}}),{c(){w(l.$$.fragment)},m(e,t){v(l,e,t),n=!0},p(e,[t]){const a={};t&4&&(a.visible=e[2]),t&9&&(a.variant=e[3]==="dynamic"&&e[0]===null?"dashed":"solid"),t&1024&&(a.color=e[10]?"green":"grey"),t&2&&(a.elem_id=e[1]),t&1052665&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){n||(k(l.$$.fragment,e),n=!0)},o(e){h(l.$$.fragment,e),n=!1},d(e){y(l,e)}}}function Ke(r,l,n){let e,{elem_id:t=""}=l,{visible:a=!0}=l,{value:i}=l,o,{mode:u}=l,{root:d}=l,{label:s}=l,{show_label:c}=l,{file_count:f}=l,{file_types:b=["file"]}=l,{root_url:g}=l,{loading_status:p}=l,m=!1,T=!1;const O=Z(),x=({detail:_})=>n(0,i=_),ee=({detail:_})=>n(10,m=_);function le(_){H.call(this,r,_)}function te(_){H.call(this,r,_)}return r.$$set=_=>{"elem_id"in _&&n(1,t=_.elem_id),"visible"in _&&n(2,a=_.visible),"value"in _&&n(0,i=_.value),"mode"in _&&n(3,u=_.mode),"root"in _&&n(12,d=_.root),"label"in _&&n(4,s=_.label),"show_label"in _&&n(5,c=_.show_label),"file_count"in _&&n(6,f=_.file_count),"file_types"in _&&n(7,b=_.file_types),"root_url"in _&&n(13,g=_.root_url),"loading_status"in _&&n(8,p=_.loading_status)},r.$$.update=()=>{if(r.$$.dirty&12289&&n(9,e=J(i,d,g)),r.$$.dirty&29193&&e!==o){if(n(14,o=e),e===null)O("change"),n(11,T=!1);else if(!(Array.isArray(e)?e:[e]).every(_=>_.blob))n(11,T=!1);else if(u==="dynamic"){let _=(Array.isArray(e)?e:[e]).map(N=>N.blob),ne=e;n(11,T=!0),me(d,_).then(N=>{ne===e&&(n(11,T=!1),N.error?(Array.isArray(e)?e:[e]).forEach(async(j,R)=>{j.data=await ve(j.blob)}):((Array.isArray(e)?e:[e]).forEach((j,R)=>{N.files&&(j.orig_name=j.name,j.name=N.files[R],j.is_file=!0)}),n(9,e=J(i,d,g))),O("change"))})}}},[i,t,a,u,s,c,f,b,p,e,m,T,d,g,o,x,ee,le,te]}class Ve extends P{constructor(l){super(),S(this,l,Ke,Je,q,{elem_id:1,visible:2,value:0,mode:3,root:12,label:4,show_label:5,file_count:6,file_types:7,root_url:13,loading_status:8})}}var sl=Ve;const ol=["static","dynamic"],fl=r=>({type:{input_payload:"{ name: string; data: string }",response_object:"{ orig_name: string; name: string, size: number, data: string, is_file: boolean}"},description:{input_payload:"object with file name and base64 data",response_object:"object that includes path to file. The URL: {ROOT}file={name} contains the data"},example_data:{name:"zip.zip",data:"data:@file/octet-stream;base64,UEsFBgAAAAAAAAAAAAAAAAAAAAAAAA=="}});export{sl as Component,fl as document,ol as modes};
//# sourceMappingURL=index.aa585521.js.map
