import{S as x,i as ee,s as le,ad as te,c as N,m as E,o as y,t as z,l as H,G as I,e as ke,f as C,I as R,k as T,n as V,p as D,V as ve,b as J,F as G,K as L,B as d,C as K,O as B,D as p,H as ne,J as ie,N as se,a0 as ye,ah as pe,v as ze,a2 as Be,g as Ge,h as Ae}from"./index.f1c0a732.js";/* empty css                                            */import{B as Ce}from"./Block.ea4b5604.js";import{g as De}from"./Button.4322af01.js";import{B as Ie}from"./BlockLabel.14d75aea.js";import{E as Ne}from"./Empty.34b36fbd.js";import{n as O}from"./ModifyUpload.svelte_svelte_type_style_lang.1181cbe3.js";import{M as Ee}from"./ModifyUpload.4d687cb1.js";/* empty css                                                    */import{I as oe}from"./Image.48a70636.js";function U(t,l,e){const n=t.slice();return n[29]=l[e][0],n[30]=l[e][1],n[32]=e,n}function P(t,l,e){const n=t.slice();return n[29]=l[e],n[33]=l,n[32]=e,n}function Q(t){let l,e;return l=new Ie({props:{show_label:t[0],Icon:oe,label:t[1]||"Gallery",disable:typeof t[3].container=="boolean"&&!t[3].container}}),{c(){N(l.$$.fragment)},m(n,i){E(l,n,i),e=!0},p(n,i){const r={};i[0]&1&&(r.show_label=n[0]),i[0]&2&&(r.label=n[1]||"Gallery"),i[0]&8&&(r.disable=typeof n[3].container=="boolean"&&!n[3].container),l.$set(r)},i(n){e||(y(l.$$.fragment,n),e=!0)},o(n){z(l.$$.fragment,n),e=!1},d(n){H(l,n)}}}function He(t){let l,e,n,i,r,_=t[4]!==null&&W(t),f=t[7],a=[];for(let o=0;o<f.length;o+=1)a[o]=$(U(t,f,o));return{c(){_&&_.c(),l=I(),e=G("div"),n=G("div");for(let o=0;o<a.length;o+=1)a[o].c();d(n,"class","grid-container svelte-ywf5u7"),d(n,"style",t[10]),B(n,"pt-6",t[0]),d(e,"class","grid-wrap svelte-ywf5u7"),te(()=>t[25].call(e)),B(e,"fixed-height",!t[3].height||t[3].height=="auto")},m(o,u){_&&_.m(o,u),C(o,l,u),C(o,e,u),p(e,n);for(let c=0;c<a.length;c+=1)a[c].m(n,null);i=pe(e,t[25].bind(e)),r=!0},p(o,u){if(o[4]!==null?_?(_.p(o,u),u[0]&16&&y(_,1)):(_=W(o),_.c(),y(_,1),_.m(l.parentNode,l)):_&&(T(),z(_,1,1,()=>{_=null}),V()),u[0]&2192){f=o[7];let c;for(c=0;c<f.length;c+=1){const s=U(o,f,c);a[c]?a[c].p(s,u):(a[c]=$(s),a[c].c(),a[c].m(n,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=f.length}(!r||u[0]&1024)&&d(n,"style",o[10]),u[0]&1&&B(n,"pt-6",o[0]),u[0]&8&&B(e,"fixed-height",!o[3].height||o[3].height=="auto")},i(o){r||(y(_),r=!0)},o(o){z(_),r=!1},d(o){_&&_.d(o),o&&D(l),o&&D(e),se(a,o),i()}}}function Le(t){let l,e;return l=new Ne({props:{size:"large",unpadded_box:!0,$$slots:{default:[Re]},$$scope:{ctx:t}}}),{c(){N(l.$$.fragment)},m(n,i){E(l,n,i),e=!0},p(n,i){const r={};i[1]&8&&(r.$$scope={dirty:i,ctx:n}),l.$set(r)},i(n){e||(y(l.$$.fragment,n),e=!0)},o(n){z(l.$$.fragment,n),e=!1},d(n){H(l,n)}}}function W(t){let l,e,n,i,r,_,f,a,o,u,c,s,w;e=new Ee({}),e.$on("clear",t[19]);let b=t[7][t[4]][1]&&X(t),A=t[7],h=[];for(let g=0;g<A.length;g+=1)h[g]=Y(P(t,A,g));return{c(){l=G("div"),N(e.$$.fragment),n=I(),i=G("img"),a=I(),b&&b.c(),o=I(),u=G("div");for(let g=0;g<h.length;g+=1)h[g].c();L(i.src,r=t[7][t[4]][0].data)||d(i,"src",r),d(i,"alt",_=t[7][t[4]][1]||""),d(i,"title",f=t[7][t[4]][1]||null),K(i,"height","calc(100% - "+(t[7][t[4]][1]?"80px":"60px")+")"),d(i,"class","svelte-ywf5u7"),B(i,"with-caption",!!t[7][t[4]][1]),d(u,"class","thumbnails scroll-hide svelte-ywf5u7"),d(l,"class","preview svelte-ywf5u7"),B(l,"fixed-height",t[3].height!=="auto")},m(g,v){C(g,l,v),E(e,l,null),p(l,n),p(l,i),p(l,a),b&&b.m(l,null),p(l,o),p(l,u);for(let k=0;k<h.length;k+=1)h[k].m(u,null);t[23](u),c=!0,s||(w=[R(i,"click",t[20]),R(l,"keydown",t[13])],s=!0)},p(g,v){if((!c||v[0]&144&&!L(i.src,r=g[7][g[4]][0].data))&&d(i,"src",r),(!c||v[0]&144&&_!==(_=g[7][g[4]][1]||""))&&d(i,"alt",_),(!c||v[0]&144&&f!==(f=g[7][g[4]][1]||null))&&d(i,"title",f),(!c||v[0]&144)&&K(i,"height","calc(100% - "+(g[7][g[4]][1]?"80px":"60px")+")"),v[0]&144&&B(i,"with-caption",!!g[7][g[4]][1]),g[7][g[4]][1]?b?b.p(g,v):(b=X(g),b.c(),b.m(l,o)):b&&(b.d(1),b=null),v[0]&400){A=g[7];let k;for(k=0;k<A.length;k+=1){const S=P(g,A,k);h[k]?h[k].p(S,v):(h[k]=Y(S),h[k].c(),h[k].m(u,null))}for(;k<h.length;k+=1)h[k].d(1);h.length=A.length}v[0]&8&&B(l,"fixed-height",g[3].height!=="auto")},i(g){c||(y(e.$$.fragment,g),c=!0)},o(g){z(e.$$.fragment,g),c=!1},d(g){g&&D(l),H(e),b&&b.d(),se(h,g),t[23](null),s=!1,ye(w)}}}function X(t){let l,e=t[7][t[4]][1]+"",n;return{c(){l=G("div"),n=ne(e),d(l,"class","caption svelte-ywf5u7")},m(i,r){C(i,l,r),p(l,n)},p(i,r){r[0]&144&&e!==(e=i[7][i[4]][1]+"")&&ie(n,e)},d(i){i&&D(l)}}}function Y(t){let l,e,n,i,r,_,f=t[32],a,o;const u=()=>t[21](l,f),c=()=>t[21](null,f);function s(){return t[22](t[32])}return{c(){l=G("button"),e=G("img"),_=I(),L(e.src,n=t[29][0].data)||d(e,"src",n),d(e,"title",i=t[29][1]||null),d(e,"alt",r=t[29][1]||null),d(e,"class","svelte-ywf5u7"),d(l,"class","thumbnail-item thumbnail-small  svelte-ywf5u7"),B(l,"selected",t[4]===t[32])},m(w,b){C(w,l,b),p(l,e),p(l,_),u(),a||(o=R(l,"click",s),a=!0)},p(w,b){t=w,b[0]&128&&!L(e.src,n=t[29][0].data)&&d(e,"src",n),b[0]&128&&i!==(i=t[29][1]||null)&&d(e,"title",i),b[0]&128&&r!==(r=t[29][1]||null)&&d(e,"alt",r),f!==t[32]&&(c(),f=t[32],u()),b[0]&16&&B(l,"selected",t[4]===t[32])},d(w){w&&D(l),c(),a=!1,o()}}}function Z(t){let l,e=t[30]+"",n;return{c(){l=G("div"),n=ne(e),d(l,"class","caption-label svelte-ywf5u7")},m(i,r){C(i,l,r),p(l,n)},p(i,r){r[0]&128&&e!==(e=i[30]+"")&&ie(n,e)},d(i){i&&D(l)}}}function $(t){let l,e,n,i,r,_,f,a,o=t[30]&&Z(t);function u(){return t[24](t[32])}return{c(){l=G("button"),e=G("img"),r=I(),o&&o.c(),_=I(),d(e,"alt",n=t[30]||""),L(e.src,i=typeof t[29]=="string"?t[29]:t[29].data)||d(e,"src",i),d(e,"class","svelte-ywf5u7"),d(l,"class","thumbnail-item thumbnail-lg svelte-ywf5u7"),B(l,"selected",t[4]===t[32])},m(c,s){C(c,l,s),p(l,e),p(l,r),o&&o.m(l,null),p(l,_),f||(a=R(l,"click",u),f=!0)},p(c,s){t=c,s[0]&128&&n!==(n=t[30]||"")&&d(e,"alt",n),s[0]&128&&!L(e.src,i=typeof t[29]=="string"?t[29]:t[29].data)&&d(e,"src",i),t[30]?o?o.p(t,s):(o=Z(t),o.c(),o.m(l,_)):o&&(o.d(1),o=null),s[0]&16&&B(l,"selected",t[4]===t[32])},d(c){c&&D(l),o&&o.d(),f=!1,a()}}}function Re(t){let l,e;return l=new oe({}),{c(){N(l.$$.fragment)},m(n,i){E(l,n,i),e=!0},i(n){e||(y(l.$$.fragment,n),e=!0)},o(n){z(l.$$.fragment,n),e=!1},d(n){H(l,n)}}}function Se(t){let l,e,n,i,r,_,f;te(t[18]);let a=t[0]&&Q(t);const o=[Le,He],u=[];function c(s,w){return s[2]===null||s[7]===null||s[7].length===0?0:1}return e=c(t),n=u[e]=o[e](t),{c(){a&&a.c(),l=I(),n.c(),i=ke()},m(s,w){a&&a.m(s,w),C(s,l,w),u[e].m(s,w),C(s,i,w),r=!0,_||(f=R(window,"resize",t[18]),_=!0)},p(s,w){s[0]?a?(a.p(s,w),w[0]&1&&y(a,1)):(a=Q(s),a.c(),y(a,1),a.m(l.parentNode,l)):a&&(T(),z(a,1,1,()=>{a=null}),V());let b=e;e=c(s),e===b?u[e].p(s,w):(T(),z(u[b],1,1,()=>{u[b]=null}),V(),n=u[e],n?n.p(s,w):(n=u[e]=o[e](s),n.c()),y(n,1),n.m(i.parentNode,i))},i(s){r||(y(a),y(n),r=!0)},o(s){z(a),z(n),r=!1},d(s){a&&a.d(s),s&&D(l),u[e].d(s),s&&D(i),_=!1,f()}}}function je(t,l,e){let n,i,r,_,f,{show_label:a=!0}=l,{label:o}=l,{root:u=""}=l,{root_url:c=null}=l,{value:s=null}=l,{style:w={grid:[2],height:"auto"}}=l,b=!0,A=s,h=null;function g(m){switch(m.code){case"Escape":m.preventDefault(),e(4,h=null);break;case"ArrowLeft":m.preventDefault(),e(4,h=i);break;case"ArrowRight":m.preventDefault(),e(4,h=r);break}}let v=[],k;async function S(m){if(typeof m!="number")return;await ve(),v[m].focus();const{left:M,width:be}=k.getBoundingClientRect(),{left:de,width:we}=v[m].getBoundingClientRect(),F=de-M+we/2-be/2+k.scrollLeft;k.scrollTo({left:F<0?0:F,behavior:"smooth"})}function ae(m){return e(10,f=De(m,["grid"]).styles),f+` height: ${m.height}`}let j=0,q=0;function re(){e(6,q=window.innerHeight)}const fe=()=>e(4,h=null),ue=()=>e(4,h=r);function _e(m,M){J[m?"unshift":"push"](()=>{v[M]=m,e(8,v)})}const ce=m=>e(4,h=m);function me(m){J[m?"unshift":"push"](()=>{k=m,e(9,k)})}const ge=m=>e(4,h=_?m:h);function he(){j=this.clientHeight,e(5,j)}return t.$$set=m=>{"show_label"in m&&e(0,a=m.show_label),"label"in m&&e(1,o=m.label),"root"in m&&e(14,u=m.root),"root_url"in m&&e(15,c=m.root_url),"value"in m&&e(2,s=m.value),"style"in m&&e(3,w=m.style)},t.$$.update=()=>{t.$$.dirty[0]&65540&&e(16,b=s==null||s.length==0?!0:b),t.$$.dirty[0]&49156&&e(7,n=s===null?null:s.map(m=>Array.isArray(m)?[O(m[0],u,c),m[1]]:[O(m,u,c),null])),t.$$.dirty[0]&196636&&A!==s&&(b?(e(4,h=w.preview?0:null),e(16,b=!1)):e(4,h=h!==null&&s!==null&&h<s.length?h:null),e(17,A=s)),t.$$.dirty[0]&144&&(i=((h??0)+(n?.length??0)-1)%(n?.length??0)),t.$$.dirty[0]&144&&e(12,r=((h??0)+1)%(n?.length??0)),t.$$.dirty[0]&16&&S(h),t.$$.dirty[0]&96&&e(11,_=q>=j),t.$$.dirty[0]&8&&e(10,f=ae(w))},[a,o,s,w,h,j,q,n,v,k,f,_,r,g,u,c,b,A,re,fe,ue,_e,ce,me,ge,he]}class qe extends x{constructor(l){super(),ee(this,l,je,Se,le,{show_label:0,label:1,root:14,root_url:15,value:2,style:3},null,[-1,-1])}}function Me(t){let l,e,n,i;const r=[t[0]];let _={};for(let f=0;f<r.length;f+=1)_=ze(_,r[f]);return l=new Be({props:_}),n=new qe({props:{label:t[2],value:t[7],style:t[8],show_label:t[1],root:t[3],root_url:t[4]}}),{c(){N(l.$$.fragment),e=I(),N(n.$$.fragment)},m(f,a){E(l,f,a),C(f,e,a),E(n,f,a),i=!0},p(f,a){const o=a&1?Ge(r,[Ae(f[0])]):{};l.$set(o);const u={};a&4&&(u.label=f[2]),a&128&&(u.value=f[7]),a&256&&(u.style=f[8]),a&2&&(u.show_label=f[1]),a&8&&(u.root=f[3]),a&16&&(u.root_url=f[4]),n.$set(u)},i(f){i||(y(l.$$.fragment,f),y(n.$$.fragment,f),i=!0)},o(f){z(l.$$.fragment,f),z(n.$$.fragment,f),i=!1},d(f){H(l,f),f&&D(e),H(n,f)}}}function Te(t){let l,e;return l=new Ce({props:{visible:t[6],variant:"solid",color:"grey",padding:!1,elem_id:t[5],disable:typeof t[8].container=="boolean"&&!t[8].container,$$slots:{default:[Me]},$$scope:{ctx:t}}}),{c(){N(l.$$.fragment)},m(n,i){E(l,n,i),e=!0},p(n,[i]){const r={};i&64&&(r.visible=n[6]),i&32&&(r.elem_id=n[5]),i&256&&(r.disable=typeof n[8].container=="boolean"&&!n[8].container),i&927&&(r.$$scope={dirty:i,ctx:n}),l.$set(r)},i(n){e||(y(l.$$.fragment,n),e=!0)},o(n){z(l.$$.fragment,n),e=!1},d(n){H(l,n)}}}function Ve(t,l,e){let{loading_status:n}=l,{show_label:i}=l,{label:r}=l,{root:_}=l,{root_url:f}=l,{elem_id:a=""}=l,{visible:o=!0}=l,{value:u=null}=l,{style:c={}}=l;return t.$$set=s=>{"loading_status"in s&&e(0,n=s.loading_status),"show_label"in s&&e(1,i=s.show_label),"label"in s&&e(2,r=s.label),"root"in s&&e(3,_=s.root),"root_url"in s&&e(4,f=s.root_url),"elem_id"in s&&e(5,a=s.elem_id),"visible"in s&&e(6,o=s.visible),"value"in s&&e(7,u=s.value),"style"in s&&e(8,c=s.style)},[n,i,r,_,f,a,o,u,c]}class Fe extends x{constructor(l){super(),ee(this,l,Ve,Te,le,{loading_status:0,show_label:1,label:2,root:3,root_url:4,elem_id:5,visible:6,value:7,style:8})}}var xe=Fe;const el=["static"],ll=t=>({type:{payload:"Array<{ name: string } | [{ name: string }, string]>"},description:{payload:"list of objects, with filename and optional caption,"}});export{xe as Component,ll as document,el as modes};
//# sourceMappingURL=index.a1df4a19.js.map
